import{a as y,b as N}from"./chunk-7MS4SRDN.js";import{b as O}from"./chunk-67GZXPBX.js";import{a as W}from"./chunk-NBFQFBAI.js";import{d as z}from"./chunk-X5WVURWV.js";import{a as B,f as D}from"./chunk-EWLX7HQJ.js";import{b as T,g as I,i as V,j as E,l as F,m as S,r as q}from"./chunk-QRHIHKQC.js";import{Eb as c,Jb as r,Jc as L,Kb as s,Pb as C,Tb as v,Ub as m,ab as l,ec as d,jc as f,ka as h,kc as u,la as g,lc as _,nb as w,tb as M,ya as P,za as b,zb as A}from"./chunk-X346Y2AD.js";import{a as o}from"./chunk-6NE7JDAX.js";function j(i,x){if(i&1){let t=C();r(0,"mat-form-field",0)(1,"mat-label"),d(2,"Length"),s(),r(3,"input",5),_("ngModelChange",function(e){h(t);let a=m();return u(a.lengthParam,e)||(a.lengthParam=e),g(e)}),s()()}if(i&2){let t=m();l(3),f("ngModel",t.lengthParam)}}function k(i,x){if(i&1){let t=C();r(0,"mat-slide-toggle",2),_("ngModelChange",function(e){h(t);let a=m();return u(a.firstIsAverageParam,e)||(a.firstIsAverageParam=e),g(e)}),d(1,"First is average"),s()}if(i&2){let t=m();A("color","primary"),f("ngModel",t.firstIsAverageParam)}}function G(i,x){if(i&1){let t=C();r(0,"mat-form-field",0)(1,"mat-label"),d(2,"Alpha"),s(),r(3,"input",3),_("ngModelChange",function(e){h(t);let a=m();return u(a.alphaParam,e)||(a.alphaParam=e),g(e)}),s()()}if(i&2){let t=m();l(3),f("ngModel",t.alphaParam)}}function H(i,x){if(i&1){let t=C();r(0,"mb-bar-component",6),v("selectionChange",function(e){h(t);let a=m();return g(a.barComponentChanged(e))}),s()}if(i&2){let t=m();A("initial",t.barComponent)}}function J(i,x){if(i&1){let t=C();r(0,"mb-quote-component",6),v("selectionChange",function(e){h(t);let a=m();return g(a.quoteComponentChanged(e))}),s()}if(i&2){let t=m();A("initial",t.quoteComponent)}}var Q=!0,K=i=>"length"in i,rt=(()=>{class i{get lengthParam(){return this.paramsLength.length}set lengthParam(t){(!t||t<2)&&(t=2);let n=2/(t+1);n=n<.001?.001:n,n=n>1?1:n,this.paramsAlpha.smoothingFactor=n,this.paramsLength.length=t,this.paramsLength=o({},this.paramsLength),this.notify()}get useAlpha(){return this.useAlphaInternal}set useAlpha(t){this.useAlphaInternal!==t&&(this.useAlphaInternal=t,this.useAlphaInternal?(this.paramsAlpha=o({},this.paramsAlpha),this.notify()):(this.paramsLength=o({},this.paramsLength),this.notify()))}get alphaParam(){return this.paramsAlpha.smoothingFactor}set alphaParam(t){(!t||t>1)&&(t=1);let n=2/t-1;n=n<2?2:n,n=n>1024?1024:n,this.paramsLength.length=n,this.paramsAlpha.smoothingFactor=t,this.paramsAlpha=o({},this.paramsAlpha),this.notify()}get vFactorParam(){return this.vFactorInternal}set vFactorParam(t){(!t||t>1)&&(t=1),this.vFactorInternal=t,this.paramsAlpha.vFactor=t,this.paramsLength.vFactor=t,this.useAlpha?(this.paramsAlpha=o({},this.paramsAlpha),this.notify()):(this.paramsLength=o({},this.paramsLength),this.notify())}get firstIsAverageParam(){return this.firstIsAverage}set firstIsAverageParam(t){this.firstIsAverage!==t&&(this.firstIsAverage=t,this.paramsLength.firstIsAverage=t,this.useAlpha?(this.paramsAlpha=o({},this.paramsAlpha),this.notify()):(this.paramsLength=o({},this.paramsLength),this.notify()))}constructor(){this.initialized=!1,this.firstIsAverage=Q,this.useAlphaInternal=!1,this.vFactorInternal=.7,this.paramsLength={length:6,vFactor:.7,firstIsAverage:Q,barComponent:y.Close},this.paramsAlpha={smoothingFactor:.285,vFactor:.7,barComponent:y.Close},this.barComponentVisible=this.barComponent!==void 0,this.quoteComponentVisible=this.quoteComponent!==void 0,this.selectionChange=P(),this.initial=b.required(),L(()=>{let t=this.initial();K(t)?(this.paramsLength=t,this.firstIsAverage=t.firstIsAverage,this.useAlpha=!1):(this.paramsAlpha=t,this.firstIsAverage=!1,this.useAlpha=!0),this.barComponent=t.barComponent,this.quoteComponent=t.quoteComponent,this.barComponentVisible=t.barComponent!==void 0,this.quoteComponentVisible=t.quoteComponent!==void 0})}ngAfterContentInit(){this.initialized=!0,this.notify()}barComponentChanged(t){this.paramsLength.barComponent=t,this.paramsAlpha.barComponent=t,this.paramsLength=o({},this.paramsLength),this.paramsAlpha=o({},this.paramsAlpha),this.notify()}quoteComponentChanged(t){this.paramsLength.quoteComponent=t,this.paramsAlpha.quoteComponent=t,this.paramsLength=o({},this.paramsLength),this.paramsAlpha=o({},this.paramsAlpha),this.notify()}notify(){this.initialized&&(this.useAlpha?this.selectionChange.emit(this.paramsAlpha):this.selectionChange.emit(this.paramsLength))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=w({type:i,selectors:[["mb-t3-exponential-moving-average-params"]],inputs:{initial:[1,"initial"]},outputs:{selectionChange:"selectionChange"},decls:11,vars:8,consts:[["appearance","fill","floatLabel","always",1,"mr",2,"width","6em"],[1,"mr",3,"color","ngModel"],[1,"mr",3,"ngModelChange","color","ngModel"],["type","number","matInput","","min","0.001","max","0.999","step","0.001",3,"ngModelChange","ngModel"],[1,"mr",3,"initial"],["type","number","matInput","","min","2","max","1024","step","1",3,"ngModelChange","ngModel"],[1,"mr",3,"selectionChange","initial"]],template:function(n,e){n&1&&(M(0,j,4,1,"mat-form-field",0)(1,k,2,2,"mat-slide-toggle",1),r(2,"mat-slide-toggle",2),_("ngModelChange",function(p){return u(e.useAlpha,p)||(e.useAlpha=p),p}),d(3,"Alpha"),s(),M(4,G,4,1,"mat-form-field",0),r(5,"mat-form-field",0)(6,"mat-label"),d(7,"vFactor"),s(),r(8,"input",3),_("ngModelChange",function(p){return u(e.vFactorParam,p)||(e.vFactorParam=p),p}),s()(),M(9,H,1,1,"mb-bar-component",4)(10,J,1,1,"mb-quote-component",4)),n&2&&(c(e.useAlpha?-1:0),l(),c(e.useAlpha?-1:1),l(),A("color","primary"),f("ngModel",e.useAlpha),l(2),c(e.useAlpha?4:-1),l(4),f("ngModel",e.vFactorParam),l(),c(e.barComponentVisible?9:-1),l(),c(e.quoteComponentVisible?10:-1))},dependencies:[q,T,E,I,S,F,V,D,B,z,W,N,O],styles:[".mr[_ngcontent-%COMP%]{margin-right:.55em}"],changeDetection:0})}}return i})();export{rt as a};
