import{b as O}from"./chunk-QBH6WTZG.js";import{a as v,b as z}from"./chunk-CHHY7AHS.js";import{a as W}from"./chunk-OQMDX466.js";import{d as N}from"./chunk-34D7MX64.js";import{c as B,h as D}from"./chunk-DUASQVCA.js";import{b as I,g as T,i as V,j as E,l as F,m as S,r as q}from"./chunk-KWPTS5VO.js";import{Ab as d,Bb as C,Gb as y,Hb as s,Ib as l,Ic as P,Kc as w,Lc as L,Qb as f,Ub as M,Wb as m,Xa as p,ha as g,ia as c,ib as b,jc as u,oc as _,pc as A,qc as x}from"./chunk-VOP6QBU4.js";import{a as o}from"./chunk-VOSPIT4N.js";function k(i,r){if(i&1){let a=f();s(0,"mat-form-field",0)(1,"mat-label"),u(2,"Length"),l(),s(3,"input",5),x("ngModelChange",function(e){g(a);let n=m();return A(n.lengthParam,e)||(n.lengthParam=e),c(e)}),l()()}if(i&2){let a=m();p(3),_("ngModel",a.lengthParam)}}function G(i,r){if(i&1){let a=f();s(0,"mat-slide-toggle",2),x("ngModelChange",function(e){g(a);let n=m();return A(n.firstIsAverageParam,e)||(n.firstIsAverageParam=e),c(e)}),u(1,"First is average"),l()}if(i&2){let a=m();y("color","primary"),_("ngModel",a.firstIsAverageParam)}}function H(i,r){if(i&1){let a=f();s(0,"mat-form-field",0)(1,"mat-label"),u(2,"Alpha"),l(),s(3,"input",3),x("ngModelChange",function(e){g(a);let n=m();return A(n.alphaParam,e)||(n.alphaParam=e),c(e)}),l()()}if(i&2){let a=m();p(3),_("ngModel",a.alphaParam)}}function J(i,r){if(i&1){let a=f();s(0,"mb-bar-component",6),M("selectionChange",function(e){g(a);let n=m();return c(n.barComponentChanged(e))}),l()}if(i&2){let a=m();y("initial",a.barComponent)}}function K(i,r){if(i&1){let a=f();s(0,"mb-quote-component",6),M("selectionChange",function(e){g(a);let n=m();return c(n.quoteComponentChanged(e))}),l()}if(i&2){let a=m();y("initial",a.quoteComponent)}}var Q=!0,R=i=>"length"in i,st=(()=>{let r=class r{get lengthParam(){return this.paramsLength.length}set lengthParam(t){(!t||t<2)&&(t=2);let e=2/(t+1);e=e<.001?.001:e,e=e>1?1:e,this.paramsAlpha.smoothingFactor=e,this.paramsLength.length=t,this.paramsLength=o({},this.paramsLength),this.notify()}get useAlpha(){return this.useAlphaInternal}set useAlpha(t){this.useAlphaInternal!==t&&(this.useAlphaInternal=t,this.useAlphaInternal?(this.paramsAlpha=o({},this.paramsAlpha),this.notify()):(this.paramsLength=o({},this.paramsLength),this.notify()))}get alphaParam(){return this.paramsAlpha.smoothingFactor}set alphaParam(t){(!t||t>1)&&(t=1);let e=2/t-1;e=e<2?2:e,e=e>1024?1024:e,this.paramsLength.length=e,this.paramsAlpha.smoothingFactor=t,this.paramsAlpha=o({},this.paramsAlpha),this.notify()}get vFactorParam(){return this.vFactorInternal}set vFactorParam(t){(!t||t>1)&&(t=1),this.vFactorInternal=t,this.paramsAlpha.vFactor=t,this.paramsLength.vFactor=t,this.useAlpha?(this.paramsAlpha=o({},this.paramsAlpha),this.notify()):(this.paramsLength=o({},this.paramsLength),this.notify())}get firstIsAverageParam(){return this.firstIsAverage}set firstIsAverageParam(t){this.firstIsAverage!==t&&(this.firstIsAverage=t,this.paramsLength.firstIsAverage=t,this.useAlpha?(this.paramsAlpha=o({},this.paramsAlpha),this.notify()):(this.paramsLength=o({},this.paramsLength),this.notify()))}constructor(){this.initialized=!1,this.firstIsAverage=Q,this.useAlphaInternal=!1,this.vFactorInternal=.7,this.paramsLength={length:6,vFactor:.7,firstIsAverage:Q,barComponent:v.Close},this.paramsAlpha={smoothingFactor:.285,vFactor:.7,barComponent:v.Close},this.barComponentVisible=this.barComponent!==void 0,this.quoteComponentVisible=this.quoteComponent!==void 0,this.selectionChange=w(),this.initial=L.required(),P(()=>{let t=this.initial();R(t)?(this.paramsLength=t,this.firstIsAverage=t.firstIsAverage,this.useAlpha=!1):(this.paramsAlpha=t,this.firstIsAverage=!1,this.useAlpha=!0),this.barComponent=t.barComponent,this.quoteComponent=t.quoteComponent,this.barComponentVisible=t.barComponent!==void 0,this.quoteComponentVisible=t.quoteComponent!==void 0})}ngAfterContentInit(){this.initialized=!0,this.notify()}barComponentChanged(t){this.paramsLength.barComponent=t,this.paramsAlpha.barComponent=t,this.paramsLength=o({},this.paramsLength),this.paramsAlpha=o({},this.paramsAlpha),this.notify()}quoteComponentChanged(t){this.paramsLength.quoteComponent=t,this.paramsAlpha.quoteComponent=t,this.paramsLength=o({},this.paramsLength),this.paramsAlpha=o({},this.paramsAlpha),this.notify()}notify(){this.initialized&&(this.useAlpha?this.selectionChange.emit(this.paramsAlpha):this.selectionChange.emit(this.paramsLength))}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=b({type:r,selectors:[["mb-t3-exponential-moving-average-params"]],inputs:{initial:[1,"initial"]},outputs:{selectionChange:"selectionChange"},decls:11,vars:8,consts:[["appearance","fill","floatLabel","always",1,"mr",2,"width","6em"],[1,"mr",3,"color","ngModel"],[1,"mr",3,"ngModelChange","color","ngModel"],["type","number","matInput","","min","0.001","max","0.999","step","0.001",3,"ngModelChange","ngModel"],[1,"mr",3,"initial"],["type","number","matInput","","min","2","max","1024","step","1",3,"ngModelChange","ngModel"],[1,"mr",3,"selectionChange","initial"]],template:function(e,n){e&1&&(d(0,k,4,1,"mat-form-field",0),d(1,G,2,2,"mat-slide-toggle",1),s(2,"mat-slide-toggle",2),x("ngModelChange",function(h){return A(n.useAlpha,h)||(n.useAlpha=h),h}),u(3,"Alpha"),l(),d(4,H,4,1,"mat-form-field",0),s(5,"mat-form-field",0)(6,"mat-label"),u(7,"vFactor"),l(),s(8,"input",3),x("ngModelChange",function(h){return A(n.vFactorParam,h)||(n.vFactorParam=h),h}),l()(),d(9,J,1,1,"mb-bar-component",4),d(10,K,1,1,"mb-quote-component",4)),e&2&&(C(n.useAlpha?-1:0),p(),C(n.useAlpha?-1:1),p(),y("color","primary"),_("ngModel",n.useAlpha),p(2),C(n.useAlpha?4:-1),p(4),_("ngModel",n.vFactorParam),p(),C(n.barComponentVisible?9:-1),p(),C(n.quoteComponentVisible?10:-1))},dependencies:[q,I,E,T,S,F,V,D,B,N,W,z,O],styles:[".mr[_ngcontent-%COMP%]{margin-right:.55em}"],changeDetection:0});let i=r;return i})();export{st as a};
