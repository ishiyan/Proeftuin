import{a as M,b as D}from"./chunk-Q6UYMHQE.js";import{b as z}from"./chunk-KUT7VJGD.js";import{a as K}from"./chunk-U54PXVMY.js";import{d as I}from"./chunk-R66P2ZV3.js";import{a as B,f as R}from"./chunk-AJ6EMB42.js";import{b as V,g as v,i as W,j as q,l as E,m as F,r as T}from"./chunk-54ETGEND.js";import{Bc as x,Cb as w,Cc as S,Db as s,Eb as r,Jb as L,Nb as y,Ob as h,Wa as m,ac as d,fc as c,ga as g,gb as P,gc as C,ha as f,hc as u,wb as _,xb as A,zc as b}from"./chunk-OH5MFEO2.js";import{a as o}from"./chunk-VOSPIT4N.js";function k(i,l){if(i&1){let a=L();s(0,"mat-form-field",0)(1,"mat-label"),d(2,"Fastest len"),r(),s(3,"input",1),u("ngModelChange",function(t){g(a);let n=h();return C(n.fastestLengthParam,t)||(n.fastestLengthParam=t),f(t)}),r()(),s(4,"mat-form-field",0)(5,"mat-label"),d(6,"Slowest len"),r(),s(7,"input",1),u("ngModelChange",function(t){g(a);let n=h();return C(n.slowestLengthParam,t)||(n.slowestLengthParam=t),f(t)}),r()()}if(i&2){let a=h();m(3),c("ngModel",a.fastestLengthParam),m(4),c("ngModel",a.slowestLengthParam)}}function O(i,l){if(i&1){let a=L();s(0,"mat-form-field",0)(1,"mat-label"),d(2,"Fastest \u03B1"),r(),s(3,"input",4),u("ngModelChange",function(t){g(a);let n=h();return C(n.fastestAlphaParam,t)||(n.fastestAlphaParam=t),f(t)}),r()(),s(4,"mat-form-field",0)(5,"mat-label"),d(6,"Slowest \u03B1"),r(),s(7,"input",4),u("ngModelChange",function(t){g(a);let n=h();return C(n.slowestAlphaParam,t)||(n.slowestAlphaParam=t),f(t)}),r()()}if(i&2){let a=h();m(3),c("ngModel",a.fastestAlphaParam),m(4),c("ngModel",a.slowestAlphaParam)}}function Q(i,l){if(i&1){let a=L();s(0,"mb-bar-component",5),y("selectionChange",function(t){g(a);let n=h();return f(n.barComponentChanged(t))}),r()}if(i&2){let a=h();w("initial",a.barComponent)}}function j(i,l){if(i&1){let a=L();s(0,"mb-quote-component",5),y("selectionChange",function(t){g(a);let n=h();return f(n.quoteComponentChanged(t))}),r()}if(i&2){let a=h();w("initial",a.quoteComponent)}}var G=i=>"fastestLength"in i,ot=(()=>{let l=class l{get efficiencyRatioLengthParam(){return this.paramsLength.efficiencyRatioLength}set efficiencyRatioLengthParam(e){(!e||e<2)&&(e=2),this.paramsLength.efficiencyRatioLength=e,this.paramsLength=o({},this.paramsLength),this.paramsAlpha.efficiencyRatioLength=e,this.paramsAlpha=o({},this.paramsAlpha),this.notify()}get fastestLengthParam(){return this.paramsLength.fastestLength}set fastestLengthParam(e){(!e||e<2)&&(e=2);let t=2/(e+1);t=t<1e-4?1e-4:t,t=t>1?1:t,this.paramsAlpha.fastestSmoothingFactor=t,this.paramsAlpha=o({},this.paramsAlpha),this.paramsLength.fastestLength=e,this.paramsLength=o({},this.paramsLength),this.notify()}get slowestLengthParam(){return this.paramsLength.slowestLength}set slowestLengthParam(e){(!e||e<2)&&(e=2);let t=2/(e+1);t=t<1e-4?1e-4:t,t=t>1?1:t,this.paramsAlpha.slowestSmoothingFactor=t,this.paramsAlpha=o({},this.paramsAlpha),this.paramsLength.slowestLength=e,this.paramsLength=o({},this.paramsLength),this.notify()}get useAlpha(){return this.useAlphaInternal}set useAlpha(e){this.useAlphaInternal!==e&&(this.useAlphaInternal=e,this.useAlphaInternal?(this.paramsAlpha=o({},this.paramsAlpha),this.notify()):(this.paramsLength=o({},this.paramsLength),this.notify()))}get fastestAlphaParam(){return this.paramsAlpha.fastestSmoothingFactor}set fastestAlphaParam(e){(!e||e>1)&&(e=1);let t=2/e-1;t=t<2?2:t,t=t>1024?1024:t,this.paramsLength.fastestLength=t,this.paramsAlpha.fastestSmoothingFactor=e,this.paramsAlpha=o({},this.paramsAlpha),this.notify()}get slowestAlphaParam(){return this.paramsAlpha.slowestSmoothingFactor}set slowestAlphaParam(e){(!e||e>1)&&(e=1);let t=2/e-1;t=t<2?2:t,t=t>1024?1024:t,this.paramsLength.slowestLength=t,this.paramsAlpha.slowestSmoothingFactor=e,this.paramsAlpha=o({},this.paramsAlpha),this.notify()}constructor(){this.initialized=!1,this.useAlphaInternal=!1,this.paramsLength={efficiencyRatioLength:10,fastestLength:2,slowestLength:30,barComponent:M.Close},this.paramsAlpha={efficiencyRatioLength:10,fastestSmoothingFactor:2/3,slowestSmoothingFactor:2/31,barComponent:M.Close},this.barComponentVisible=this.barComponent!==void 0,this.quoteComponentVisible=this.quoteComponent!==void 0,this.selectionChange=x(),this.initial=S.required(),b(()=>{let e=this.initial();G(e)?(this.paramsLength=e,this.useAlpha=!1):(this.paramsAlpha=e,this.useAlpha=!0),this.barComponent=e.barComponent,this.quoteComponent=e.quoteComponent,this.barComponentVisible=e.barComponent!==void 0,this.quoteComponentVisible=e.quoteComponent!==void 0})}ngAfterContentInit(){this.initialized=!0,this.notify()}barComponentChanged(e){this.paramsLength.barComponent=e,this.paramsAlpha.barComponent=e,this.paramsLength=o({},this.paramsLength),this.paramsAlpha=o({},this.paramsAlpha),this.notify()}quoteComponentChanged(e){this.paramsLength.quoteComponent=e,this.paramsAlpha.quoteComponent=e,this.paramsLength=o({},this.paramsLength),this.paramsAlpha=o({},this.paramsAlpha),this.notify()}notify(){this.initialized&&(this.useAlpha?this.selectionChange.emit(this.paramsAlpha):this.selectionChange.emit(this.paramsLength))}};l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=P({type:l,selectors:[["mb-kaufman-adaptive-moving-average-params"]],inputs:{initial:[1,"initial"]},outputs:{selectionChange:"selectionChange"},decls:10,vars:7,consts:[["appearance","fill","floatLabel","always",1,"mr",2,"width","6em"],["type","number","matInput","","min","2","max","1024","step","1",3,"ngModelChange","ngModel"],[1,"mr",3,"ngModelChange","color","ngModel"],[1,"mr",3,"initial"],["type","number","matInput","","min","0.001","max","0.999","step","0.001",3,"ngModelChange","ngModel"],[1,"mr",3,"selectionChange","initial"]],template:function(t,n){t&1&&(s(0,"mat-form-field",0)(1,"mat-label"),d(2,"Eff ratio len"),r(),s(3,"input",1),u("ngModelChange",function(p){return C(n.efficiencyRatioLengthParam,p)||(n.efficiencyRatioLengthParam=p),p}),r()(),_(4,k,8,2),s(5,"mat-slide-toggle",2),u("ngModelChange",function(p){return C(n.useAlpha,p)||(n.useAlpha=p),p}),d(6,"Alpha"),r(),_(7,O,8,2),_(8,Q,1,1,"mb-bar-component",3),_(9,j,1,1,"mb-quote-component",3)),t&2&&(m(3),c("ngModel",n.efficiencyRatioLengthParam),m(),A(n.useAlpha?-1:4),m(),w("color","primary"),c("ngModel",n.useAlpha),m(2),A(n.useAlpha?7:-1),m(),A(n.barComponentVisible?8:-1),m(),A(n.quoteComponentVisible?9:-1))},dependencies:[T,V,q,v,F,E,W,R,B,I,K,D,z],styles:[".mr[_ngcontent-%COMP%]{margin-right:.55em}"],changeDetection:0});let i=l;return i})();export{ot as a};
