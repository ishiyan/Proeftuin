import{Da as B,G as A,Ia as S,Oa as Y,Qa as ie,X as z,b as W,c as k,h as C,i as J,k as b,v as K}from"./chunk-KMPZBAPX.js";import{a as G,q as U}from"./chunk-HHLKRFKR.js";import{Aa as X,Ha as H,Jb as O,Kb as Q,Lb as g,Na as I,Tb as q,_a as P,bc as N,ca as p,cc as V,ec as j,ib as R,ma as Z,nb as h,za as L,zb as F}from"./chunk-X346Y2AD.js";import"./chunk-6NE7JDAX.js";ie();var $=[{time:new Date(2e3,1,1),value:1394.46},{time:new Date(2e3,2,1),value:1366.42},{time:new Date(2e3,3,1),value:1498.58},{time:new Date(2e3,4,1),value:1452.43},{time:new Date(2e3,5,1),value:1420.6},{time:new Date(2e3,6,1),value:1454.6},{time:new Date(2e3,7,1),value:1430.83},{time:new Date(2e3,8,1),value:1517.68},{time:new Date(2e3,9,1),value:1436.51},{time:new Date(2e3,10,1),value:1429.4},{time:new Date(2e3,11,1),value:1314.95},{time:new Date(2e3,12,1),value:1320.28},{time:new Date(2001,1,1),value:1366.01},{time:new Date(2001,2,1),value:1239.94},{time:new Date(2001,3,1),value:1160.33},{time:new Date(2001,4,1),value:1249.46},{time:new Date(2001,5,1),value:1255.82},{time:new Date(2001,6,1),value:1224.38},{time:new Date(2001,7,1),value:1211.23},{time:new Date(2001,8,1),value:1133.58},{time:new Date(2001,9,1),value:1040.94},{time:new Date(2001,10,1),value:1059.78},{time:new Date(2001,11,1),value:1139.45},{time:new Date(2001,12,1),value:1148.08},{time:new Date(2002,1,1),value:1130.2},{time:new Date(2002,2,1),value:1106.73},{time:new Date(2002,3,1),value:1147.39},{time:new Date(2002,4,1),value:1076.92},{time:new Date(2002,5,1),value:1067.14},{time:new Date(2002,6,1),value:989.82},{time:new Date(2002,7,1),value:911.62},{time:new Date(2002,8,1),value:916.07},{time:new Date(2002,9,1),value:815.28},{time:new Date(2002,10,1),value:885.76},{time:new Date(2002,11,1),value:936.31},{time:new Date(2002,12,1),value:879.82},{time:new Date(2003,1,1),value:855.7},{time:new Date(2003,2,1),value:841.15},{time:new Date(2003,3,1),value:848.18},{time:new Date(2003,4,1),value:916.92},{time:new Date(2003,5,1),value:963.59},{time:new Date(2003,6,1),value:974.5},{time:new Date(2003,7,1),value:990.31},{time:new Date(2003,8,1),value:1008.01},{time:new Date(2003,9,1),value:995.97},{time:new Date(2003,10,1),value:1050.71},{time:new Date(2003,11,1),value:1058.2},{time:new Date(2003,12,1),value:1111.92},{time:new Date(2004,1,1),value:1131.13},{time:new Date(2004,2,1),value:1144.94},{time:new Date(2004,3,1),value:1126.21},{time:new Date(2004,4,1),value:1107.3},{time:new Date(2004,5,1),value:1120.68},{time:new Date(2004,6,1),value:1140.84},{time:new Date(2004,7,1),value:1101.72},{time:new Date(2004,8,1),value:1104.24},{time:new Date(2004,9,1),value:1114.58},{time:new Date(2004,10,1),value:1130.2},{time:new Date(2004,11,1),value:1173.82},{time:new Date(2004,12,1),value:1211.92},{time:new Date(2005,1,1),value:1181.27},{time:new Date(2005,2,1),value:1203.6},{time:new Date(2005,3,1),value:1180.59},{time:new Date(2005,4,1),value:1156.85},{time:new Date(2005,5,1),value:1191.5},{time:new Date(2005,6,1),value:1191.33},{time:new Date(2005,7,1),value:1234.18},{time:new Date(2005,8,1),value:1220.33},{time:new Date(2005,9,1),value:1228.81},{time:new Date(2005,10,1),value:1207.01},{time:new Date(2005,11,1),value:1249.48},{time:new Date(2005,12,1),value:1248.29},{time:new Date(2006,1,1),value:1280.08},{time:new Date(2006,2,1),value:1280.66},{time:new Date(2006,3,1),value:1294.87},{time:new Date(2006,4,1),value:1310.61},{time:new Date(2006,5,1),value:1270.09},{time:new Date(2006,6,1),value:1270.2},{time:new Date(2006,7,1),value:1276.66},{time:new Date(2006,8,1),value:1303.82},{time:new Date(2006,9,1),value:1335.85},{time:new Date(2006,10,1),value:1377.94},{time:new Date(2006,11,1),value:1400.63},{time:new Date(2006,12,1),value:1418.3},{time:new Date(2007,1,1),value:1438.24},{time:new Date(2007,2,1),value:1406.82},{time:new Date(2007,3,1),value:1420.86},{time:new Date(2007,4,1),value:1482.37},{time:new Date(2007,5,1),value:1530.62},{time:new Date(2007,6,1),value:1503.35},{time:new Date(2007,7,1),value:1455.27},{time:new Date(2007,8,1),value:1473.99},{time:new Date(2007,9,1),value:1526.75},{time:new Date(2007,10,1),value:1549.38},{time:new Date(2007,11,1),value:1481.14},{time:new Date(2007,12,1),value:1468.36},{time:new Date(2008,1,1),value:1378.55},{time:new Date(2008,2,1),value:1330.63},{time:new Date(2008,3,1),value:1322.7},{time:new Date(2008,4,1),value:1385.59},{time:new Date(2008,5,1),value:1400.38},{time:new Date(2008,6,1),value:1280},{time:new Date(2008,7,1),value:1267.38},{time:new Date(2008,8,1),value:1282.83},{time:new Date(2008,9,1),value:1166.36},{time:new Date(2008,10,1),value:968.75},{time:new Date(2008,11,1),value:896.24},{time:new Date(2008,12,1),value:903.25},{time:new Date(2009,1,1),value:825.88},{time:new Date(2009,2,1),value:735.09},{time:new Date(2009,3,1),value:797.87},{time:new Date(2009,4,1),value:872.81},{time:new Date(2009,5,1),value:919.14},{time:new Date(2009,6,1),value:919.32},{time:new Date(2009,7,1),value:987.48},{time:new Date(2009,8,1),value:1020.62},{time:new Date(2009,9,1),value:1057.08},{time:new Date(2009,10,1),value:1036.19},{time:new Date(2009,11,1),value:1095.63},{time:new Date(2009,12,1),value:1115.1},{time:new Date(2010,1,1),value:1073.87},{time:new Date(2010,2,1),value:1104.49},{time:new Date(2010,3,1),value:1140.45}];var me=["container"],ee=(()=>{class i{constructor(){this.document=p(G),this.platformId=p(H),this.element=p(X),this.container=R.required("container"),this.svgheight=L(),I({write:()=>{this.render()}})}render(){if(!U(this.platformId)||!this.document||this.document===null)return;let a=$,e={top:20,right:20,bottom:110,left:40},n={top:430,right:20,bottom:30,left:40},f=this.container().nativeElement.getBoundingClientRect().width;b(this.element.nativeElement).select("svg").remove();let v=b(this.element.nativeElement).append("svg").attr("width",f).attr("height",this.svgheight()),m=+f-e.left-e.right,o=+this.svgheight()-e.top-e.bottom,c=+this.svgheight()-n.top-n.bottom,l=z().range([0,m]),r=z().range([0,m]),w=A().range([o,0]),E=A().range([c,0]),x=C(l),te=C(r),ae=J(w),D=K().extent([[0,0],[m,c]]),M=Y().scaleExtent([1,1/0]).translateExtent([[0,0],[m,o]]).extent([[0,0],[m,o]]),_="time",T="value",y=B().curve(S).x(t=>l(t[_])).y0(o).y1(t=>w(t[T])),ne=B().curve(S).x(t=>r(t[_])).y0(c).y1(t=>E(t[T]));v.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",m).attr("height",o);let s=v.append("g").attr("class","focus").attr("transform","translate("+e.left+","+e.top+")"),d=v.append("g").attr("class","context").attr("transform","translate("+n.left+","+n.top+")");l.domain(W(a,t=>t.time)),w.domain([0,k(a,t=>t.value)]),r.domain(l.domain()),E.domain(w.domain()),s.append("path").datum(a).attr("class","area").attr("d",y),s.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+o+")").call(x),s.append("g").attr("class","axis axis--y").call(ae),d.append("path").datum(a).attr("class","area").attr("d",ne),d.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+c+")").call(te),d.append("g").attr("class","brush").call(D).call(D.move,l.range()),v.append("rect").attr("class","zoom").attr("width",m).attr("height",o).attr("transform","translate("+e.left+","+e.top+")").call(M),D.on("brush end",t=>{if(t.type==="brush"){let u=t.selection||r.range();l.domain(u.map(r.invert,r)),s.select(".area").attr("d",y),s.select(".axis--x").call(x)}}),M.on("zoom",t=>{if(t.type==="zoom"){let u=t.transform;l.domain(u.rescaleX(r).domain()),s.select(".area").attr("d",y),s.select(".axis--x").call(x),d.select(".brush").call(D.move,l.range().map(u.invertX,u))}})}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=h({type:i,selectors:[["app-d3-sample-brush-and-zoom-area-chart"]],viewQuery:function(e,n){e&1&&N(n.container,me,5),e&2&&V()},hostBindings:function(e,n){e&1&&q("resize",function(){return n.render()},!1,P)},inputs:{svgheight:[1,"svgheight"]},decls:4,vars:0,consts:[["container",""],[1,"container"]],template:function(e,n){e&1&&(O(0,"div",1,0),j(2,` Combining d3-brush and d3-zoom to implement focus + context.
`),Q(),Z(),g(3,"svg"))},styles:[`.brush-and-zoom-area-chart{margin:0;padding:0}.area{fill:#4682b4;clip-path:url(#clip)}.zoom{cursor:move;fill:none;pointer-events:all}.container{padding:12px}
`],encapsulation:2,changeDetection:0})}}return i})();var ge=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=h({type:i,selectors:[["app-d3-sample-3"]],decls:1,vars:1,consts:[[1,"brush-and-zoom-area-chart",3,"svgheight"]],template:function(e,n){e&1&&g(0,"app-d3-sample-brush-and-zoom-area-chart",0),e&2&&F("svgheight",500)},dependencies:[ee],styles:[".brush-and-zoom-area-chart[_ngcontent-%COMP%]{margin:0;padding:0}"],changeDetection:0})}}return i})();export{ge as Sample3Component};
