import{a as F}from"./chunk-T7TA2VG3.js";import{a as L,b as G}from"./chunk-NOUXTG4Q.js";import{a as M,f as D}from"./chunk-N4TS6JQX.js";import{ca as H}from"./chunk-KNFFDOOK.js";import{k as T}from"./chunk-OQ5IDZ4F.js";import{Aa as p,Ab as r,Ib as x,Jb as _,Kb as c,Kc as S,Lb as h,Mb as u,Vb as y,Xb as w,bb as a,hc as I,ic as v,mc as W,nc as b,ob as C,oc as E,za as P}from"./chunk-BLTBCMH5.js";var A=(l,m)=>m.id;function R(l,m){if(l&1&&(c(0,"mat-option",3),u(1,"mb-swatches",2),h()),l&2){let e=m.$implicit,i=w();r("value",e),a(),r("width",i.optionWidthPixels)("height",i.optionHeightPixels)("colors",e.palette)}}var N=48,O=24,X=24,d=1;function k(l){return l===1e3?0:1e3}var Y=(()=>{class l{constructor(){this.selected=p(0),this.colors=p.required(),this.label=p("Select colors"),this.selectionChange=P(),this.optionHeightPixels=X,this.triggerHeightPixels=O,this.optionWidthPixels=X*d,this.triggerWidthPixels=O*d,this.selectWidthPixels=N+this.triggerWidthPixels,this.palettes={id:0,palettes:[],[Symbol.iterator]:function(){return this.palettes[Symbol.iterator]()}},this.selectedPalette={id:0,palette:[]},this.selectedIndex=0,S(()=>{let e=this.selected();this.selectedIndex=e;let i=this.palettes.palettes.length;i>0&&(e>=i&&(e=i-1),this.selectedIndex=e,this.selectedPalette=this.palettes.palettes[this.selectedIndex],this.selectionChange.emit(this.selectedPalette.palette))}),S(()=>{let e=this.colors(),i=k(this.palettes.id),t={id:i,palettes:[],[Symbol.iterator]:function(){return this.palettes[Symbol.iterator]()}};e.forEach((s,n)=>{t.palettes.push({id:i+n,palette:s})});let o=t.palettes.length;if(o>0){let s=this.selectedIndex;s>=o&&(s=o-1);let n=0;for(let g=0;g<o;++g){let f=e[g].length;n<f&&(n=f)}n<d&&(n=d),this.optionWidthPixels=n*this.optionHeightPixels,this.triggerWidthPixels=n*this.triggerHeightPixels,this.selectWidthPixels=N+this.triggerWidthPixels,this.palettes=t,this.selectedPalette=t.palettes[s],this.selectedIndex=s,this.selectionChange.emit(this.selectedPalette.palette)}})}selectionChanged(e){this.selectedIndex=this.palettes.palettes.indexOf(e.value),this.selectionChange.emit(e.value.palette)}computeWidthStyle(){return{width:`${this.selectWidthPixels}px`}}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275cmp=C({type:l,selectors:[["mb-swatches-select"]],inputs:{selected:[1,"selected"],colors:[1,"colors"],label:[1,"label"]},outputs:{selectionChange:"selectionChange"},decls:8,vars:6,consts:[[3,"ngStyle"],[3,"valueChange","selectionChange","value"],[3,"width","height","colors"],[3,"value"]],template:function(i,t){i&1&&(c(0,"mat-form-field",0)(1,"mat-label"),I(2),h(),c(3,"mat-select",1),E("valueChange",function(s){return b(t.selectedPalette,s)||(t.selectedPalette=s),s}),y("selectionChange",function(s){return t.selectionChanged(s)}),c(4,"mat-select-trigger"),u(5,"mb-swatches",2),h(),x(6,R,2,4,"mat-option",3,A),h()()),i&2&&(r("ngStyle",t.computeWidthStyle()),a(2),v(t.label()),a(),W("value",t.selectedPalette),a(2),r("width",t.triggerWidthPixels)("height",t.triggerHeightPixels)("colors",t.selectedPalette.palette),a(),_(t.palettes.palettes))},dependencies:[D,T,M,L,G,F,H],encapsulation:2,changeDetection:0})}}return l})();export{Y as a};
