import{Da as E,G as z,Ia as B,Oa as ee,Qa as me,X as A,b as J,c as K,h as b,i as Y,k as C,v as $}from"./chunk-GXN2U6XA.js";import{o as k}from"./chunk-QQ6YFGSV.js";import{Ca as I,Ha as P,Ib as F,Lb as N,Mb as O,Mc as U,Nb as Q,Nc as W,Ob as _,Wa as R,Wb as q,ca as h,ec as V,fc as j,ib as g,ja as X,kc as G,na as H,tb as Z}from"./chunk-54YCK6MI.js";import"./chunk-VOSPIT4N.js";me();var te=[{time:new Date(2e3,1,1),value:1394.46},{time:new Date(2e3,2,1),value:1366.42},{time:new Date(2e3,3,1),value:1498.58},{time:new Date(2e3,4,1),value:1452.43},{time:new Date(2e3,5,1),value:1420.6},{time:new Date(2e3,6,1),value:1454.6},{time:new Date(2e3,7,1),value:1430.83},{time:new Date(2e3,8,1),value:1517.68},{time:new Date(2e3,9,1),value:1436.51},{time:new Date(2e3,10,1),value:1429.4},{time:new Date(2e3,11,1),value:1314.95},{time:new Date(2e3,12,1),value:1320.28},{time:new Date(2001,1,1),value:1366.01},{time:new Date(2001,2,1),value:1239.94},{time:new Date(2001,3,1),value:1160.33},{time:new Date(2001,4,1),value:1249.46},{time:new Date(2001,5,1),value:1255.82},{time:new Date(2001,6,1),value:1224.38},{time:new Date(2001,7,1),value:1211.23},{time:new Date(2001,8,1),value:1133.58},{time:new Date(2001,9,1),value:1040.94},{time:new Date(2001,10,1),value:1059.78},{time:new Date(2001,11,1),value:1139.45},{time:new Date(2001,12,1),value:1148.08},{time:new Date(2002,1,1),value:1130.2},{time:new Date(2002,2,1),value:1106.73},{time:new Date(2002,3,1),value:1147.39},{time:new Date(2002,4,1),value:1076.92},{time:new Date(2002,5,1),value:1067.14},{time:new Date(2002,6,1),value:989.82},{time:new Date(2002,7,1),value:911.62},{time:new Date(2002,8,1),value:916.07},{time:new Date(2002,9,1),value:815.28},{time:new Date(2002,10,1),value:885.76},{time:new Date(2002,11,1),value:936.31},{time:new Date(2002,12,1),value:879.82},{time:new Date(2003,1,1),value:855.7},{time:new Date(2003,2,1),value:841.15},{time:new Date(2003,3,1),value:848.18},{time:new Date(2003,4,1),value:916.92},{time:new Date(2003,5,1),value:963.59},{time:new Date(2003,6,1),value:974.5},{time:new Date(2003,7,1),value:990.31},{time:new Date(2003,8,1),value:1008.01},{time:new Date(2003,9,1),value:995.97},{time:new Date(2003,10,1),value:1050.71},{time:new Date(2003,11,1),value:1058.2},{time:new Date(2003,12,1),value:1111.92},{time:new Date(2004,1,1),value:1131.13},{time:new Date(2004,2,1),value:1144.94},{time:new Date(2004,3,1),value:1126.21},{time:new Date(2004,4,1),value:1107.3},{time:new Date(2004,5,1),value:1120.68},{time:new Date(2004,6,1),value:1140.84},{time:new Date(2004,7,1),value:1101.72},{time:new Date(2004,8,1),value:1104.24},{time:new Date(2004,9,1),value:1114.58},{time:new Date(2004,10,1),value:1130.2},{time:new Date(2004,11,1),value:1173.82},{time:new Date(2004,12,1),value:1211.92},{time:new Date(2005,1,1),value:1181.27},{time:new Date(2005,2,1),value:1203.6},{time:new Date(2005,3,1),value:1180.59},{time:new Date(2005,4,1),value:1156.85},{time:new Date(2005,5,1),value:1191.5},{time:new Date(2005,6,1),value:1191.33},{time:new Date(2005,7,1),value:1234.18},{time:new Date(2005,8,1),value:1220.33},{time:new Date(2005,9,1),value:1228.81},{time:new Date(2005,10,1),value:1207.01},{time:new Date(2005,11,1),value:1249.48},{time:new Date(2005,12,1),value:1248.29},{time:new Date(2006,1,1),value:1280.08},{time:new Date(2006,2,1),value:1280.66},{time:new Date(2006,3,1),value:1294.87},{time:new Date(2006,4,1),value:1310.61},{time:new Date(2006,5,1),value:1270.09},{time:new Date(2006,6,1),value:1270.2},{time:new Date(2006,7,1),value:1276.66},{time:new Date(2006,8,1),value:1303.82},{time:new Date(2006,9,1),value:1335.85},{time:new Date(2006,10,1),value:1377.94},{time:new Date(2006,11,1),value:1400.63},{time:new Date(2006,12,1),value:1418.3},{time:new Date(2007,1,1),value:1438.24},{time:new Date(2007,2,1),value:1406.82},{time:new Date(2007,3,1),value:1420.86},{time:new Date(2007,4,1),value:1482.37},{time:new Date(2007,5,1),value:1530.62},{time:new Date(2007,6,1),value:1503.35},{time:new Date(2007,7,1),value:1455.27},{time:new Date(2007,8,1),value:1473.99},{time:new Date(2007,9,1),value:1526.75},{time:new Date(2007,10,1),value:1549.38},{time:new Date(2007,11,1),value:1481.14},{time:new Date(2007,12,1),value:1468.36},{time:new Date(2008,1,1),value:1378.55},{time:new Date(2008,2,1),value:1330.63},{time:new Date(2008,3,1),value:1322.7},{time:new Date(2008,4,1),value:1385.59},{time:new Date(2008,5,1),value:1400.38},{time:new Date(2008,6,1),value:1280},{time:new Date(2008,7,1),value:1267.38},{time:new Date(2008,8,1),value:1282.83},{time:new Date(2008,9,1),value:1166.36},{time:new Date(2008,10,1),value:968.75},{time:new Date(2008,11,1),value:896.24},{time:new Date(2008,12,1),value:903.25},{time:new Date(2009,1,1),value:825.88},{time:new Date(2009,2,1),value:735.09},{time:new Date(2009,3,1),value:797.87},{time:new Date(2009,4,1),value:872.81},{time:new Date(2009,5,1),value:919.14},{time:new Date(2009,6,1),value:919.32},{time:new Date(2009,7,1),value:987.48},{time:new Date(2009,8,1),value:1020.62},{time:new Date(2009,9,1),value:1057.08},{time:new Date(2009,10,1),value:1036.19},{time:new Date(2009,11,1),value:1095.63},{time:new Date(2009,12,1),value:1115.1},{time:new Date(2010,1,1),value:1073.87},{time:new Date(2010,2,1),value:1104.49},{time:new Date(2010,3,1),value:1140.45}];var re=["container"],ae=(()=>{let a=class a{constructor(){this.document=h(H),this.platformId=h(P),this.element=h(I),this.container=W.required("container"),this.svgheight=U(),Z({write:()=>{this.render()}})}render(){if(!k(this.platformId)||!this.document||this.document===null)return;let n=te,e={top:20,right:20,bottom:110,left:40},i={top:430,right:20,bottom:30,left:40},f=this.container().nativeElement.getBoundingClientRect().width;C(this.element.nativeElement).select("svg").remove();let c=C(this.element.nativeElement).append("svg").attr("width",f).attr("height",this.svgheight()),o=+f-e.left-e.right,r=+this.svgheight()-e.top-e.bottom,w=+this.svgheight()-i.top-i.bottom,l=A().range([0,o]),s=A().range([0,o]),D=z().range([r,0]),M=z().range([w,0]),x=b(l),ne=b(s),ie=Y(D),d=$().extent([[0,0],[o,w]]),S=ee().scaleExtent([1,1/0]).translateExtent([[0,0],[o,r]]).extent([[0,0],[o,r]]),T="time",L="value",y=E().curve(B).x(t=>l(t[T])).y0(r).y1(t=>D(t[L])),le=E().curve(B).x(t=>s(t[T])).y0(w).y1(t=>M(t[L]));c.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",o).attr("height",r);let u=c.append("g").attr("class","focus").attr("transform","translate("+e.left+","+e.top+")"),p=c.append("g").attr("class","context").attr("transform","translate("+i.left+","+i.top+")");l.domain(J(n,t=>t.time)),D.domain([0,K(n,t=>t.value)]),s.domain(l.domain()),M.domain(D.domain()),u.append("path").datum(n).attr("class","area").attr("d",y),u.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+r+")").call(x),u.append("g").attr("class","axis axis--y").call(ie),p.append("path").datum(n).attr("class","area").attr("d",le),p.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+w+")").call(ne),p.append("g").attr("class","brush").call(d).call(d.move,l.range()),c.append("rect").attr("class","zoom").attr("width",o).attr("height",r).attr("transform","translate("+e.left+","+e.top+")").call(S),d.on("brush end",t=>{if(t.type==="brush"){let v=t.selection||s.range();l.domain(v.map(s.invert,s)),u.select(".area").attr("d",y),u.select(".axis--x").call(x)}}),S.on("zoom",t=>{if(t.type==="zoom"){let v=t.transform;l.domain(v.rescaleX(s).domain()),u.select(".area").attr("d",y),u.select(".axis--x").call(x),p.select(".brush").call(d.move,l.range().map(v.invertX,v))}})}};a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=g({type:a,selectors:[["app-d3-sample-brush-and-zoom-area-chart"]],viewQuery:function(e,i){e&1&&V(i.container,re,5),e&2&&j()},hostBindings:function(e,i){e&1&&q("resize",function(){return i.render()},R)},inputs:{svgheight:[1,"svgheight"]},decls:4,vars:0,consts:[["container",""],[1,"container"]],template:function(e,i){e&1&&(O(0,"div",1,0),G(2,` Combining d3-brush and d3-zoom to implement focus + context.
`),Q(),X(),_(3,"svg"))},styles:[`.brush-and-zoom-area-chart{margin:0;padding:0}.area{fill:#4682b4;clip-path:url(#clip)}.zoom{cursor:move;fill:none;pointer-events:all}.container{padding:12px}
`],encapsulation:2,changeDetection:0});let m=a;return m})();var xe=(()=>{let a=class a{};a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=g({type:a,selectors:[["app-d3-sample-3"]],decls:1,vars:1,consts:[[1,"brush-and-zoom-area-chart",3,"svgheight"]],template:function(e,i){e&1&&N(0,"app-d3-sample-brush-and-zoom-area-chart",0),e&2&&F("svgheight",500)},dependencies:[ae],styles:[".brush-and-zoom-area-chart[_ngcontent-%COMP%]{margin:0;padding:0}"],changeDetection:0});let m=a;return m})();export{xe as Sample3Component};
