import{a as J}from"./chunk-UPXS4RH4.js";import{a as q,b as I}from"./chunk-XP5Z4VRE.js";import{a as D,f as T}from"./chunk-F467SDXY.js";import{Z as w}from"./chunk-X7C3JSFP.js";import{Aa as K,Ab as p,Da as P,Hb as v,Ia as B,Ib as _,Ic as O,Jb as x,Kb as s,Lb as o,Mb as N,Na as H,Oc as z,Tb as C,Wb as R,Xb as U,Y as A,ab as a,ca as g,dd as G,f as b,fc as c,gc as f,hc as h,kc as y,lc as L,mc as M,nb as u,ya as S,za as d}from"./chunk-R5QK5SBI.js";import{a as F,b as k}from"./chunk-6NE7JDAX.js";var r=function(e){return e[e.Open=0]="Open",e[e.High=1]="High",e[e.Low=2]="Low",e[e.Close=3]="Close",e[e.Median=4]="Median",e[e.Typical=5]="Typical",e[e.Weighted=6]="Weighted",e[e.Average=7]="Average",e}(r||{});var Z=!1,$=!1,Q=!1,X=(()=>{class e{constructor(){this.sourceValue=Z,this.sourceSubject=new b,this.tagLeftValue=$,this.tagLeftSubject=new b,this.equationLeftValue=Q,this.equationLeftSubject=new b}get source(){return this.sourceValue}set source(t){this.sourceValue!==t&&(this.sourceValue=t,this.sourceSubject.next(t))}sourceObservable(){return this.sourceSubject.asObservable()}get tagLeft(){return this.tagLeftValue}set tagLeft(t){this.tagLeftValue!==t&&(this.tagLeftValue=t,this.tagLeftSubject.next(t))}tagLeftObservable(){return this.tagLeftSubject.asObservable()}get equationLeft(){return this.equationLeftValue}set equationLeft(t){this.equationLeftValue!==t&&(this.equationLeftValue=t,this.equationLeftSubject.next(t))}equationLeftObservable(){return this.equationLeftSubject.asObservable()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ee=["*"],te={throwOnError:!1,strict:!0,displayMode:!0,output:"html",leqno:!1,fleqn:!1},Y="",W=(()=>{class e{constructor(){this.document=g(z),this.platformId=g(B),this.element=g(K),this.settings=g(X),this.options=P(this.initialSettings()),this.expression=Y,this.hidden=!1,H({write:()=>{this.render(),this.settings.tagLeftObservable().subscribe({next:()=>{this.options.set(this.initialSettings())}}),this.settings.equationLeftObservable().subscribe({next:()=>{this.options.set(this.initialSettings())}})}})}ngAfterContentInit(){this.render()}render(){!G(this.platformId)||!this.document||this.document===null||this.expression===Y&&(this.expression=this.element.nativeElement.innerText,this.hidden=!0)}initialSettings(){return k(F({},te),{leqno:this.settings.tagLeft,fleqn:this.settings.equationLeft})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=u({type:e,selectors:[["mb-kd"]],ngContentSelectors:ee,decls:3,vars:3,consts:[[3,"hidden"],[3,"mbKatex","options"]],template:function(i,n){i&1&&(R(),s(0,"span",0),U(1),o(),N(2,"span",1)),i&2&&(p("hidden",n.hidden),a(2),p("mbKatex",n.expression)("options",n.options()))},dependencies:[J],encapsulation:2,changeDetection:0})}}return e})();function ie(e,j){if(e&1&&(s(0,"mat-option",2),c(1),s(2,"mb-kd"),c(3),o()()),e&2){let t=j.$implicit;p("value",t),a(),h(" ",t.name,","),a(2),f(t.tex)}}var ye=(()=>{class e{selectionChanged(t){this.selectionChange.emit(t.value.enumeration)}constructor(){this.comps=[{enumeration:r.Open,name:"Opening",tex:"o",selected:!1},{enumeration:r.High,name:"Highest",tex:"h",selected:!1},{enumeration:r.Low,name:"Lowest",tex:"l",selected:!1},{enumeration:r.Close,name:"Closing",tex:"c",selected:!1},{enumeration:r.Median,name:"Median",tex:"\\frac{h+l}{2}",selected:!1},{enumeration:r.Typical,name:"Typical",tex:"\\frac{h+l+c}{3}",selected:!0},{enumeration:r.Weighted,name:"Weighted",tex:"\\frac{h+l+c+c}{4}",selected:!1},{enumeration:r.Average,name:"Average",tex:"\\frac{o+h+l+c}{4}",selected:!1}],this.compSelected=this.comps[r.Typical.valueOf()],this.selectionChange=S(),this.label=d("Bar component"),this.initial=d.required(),O(()=>{let t=this.initial().valueOf(),i=this.compSelected.enumeration.valueOf();this.comps[i].selected=!1,this.comps[t].selected=!0,this.compSelected=this.comps[t]})}ngOnInit(){this.selectionChange.emit(this.compSelected.enumeration)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=u({type:e,selectors:[["mb-bar-component"]],inputs:{label:[1,"label"],initial:[1,"initial"]},outputs:{selectionChange:"selectionChange"},decls:8,vars:3,consts:[["appearance","fill","floatLabel","always",2,"width","10em"],[3,"valueChange","selectionChange","value"],["selected","comp.selected",3,"value"]],template:function(i,n){i&1&&(s(0,"mat-form-field",0)(1,"mat-label"),c(2),o(),s(3,"mat-select",1),M("valueChange",function(l){return L(n.compSelected,l)||(n.compSelected=l),l}),C("selectionChange",function(l){return n.selectionChanged(l)}),s(4,"mat-select-trigger"),c(5),o(),_(6,ie,4,3,"mat-option",2,v),o()()),i&2&&(a(2),f(n.label()),a(),y("value",n.compSelected),a(2),h(" ",n.compSelected.name," "),a(),x(n.comps))},dependencies:[T,D,q,I,w,W],styles:["mat-form-field[_ngcontent-%COMP%]{margin:0;padding:0}"],changeDetection:0})}}return e})();var m=function(e){return e[e.Bid=0]="Bid",e[e.Ask=1]="Ask",e[e.Mid=2]="Mid",e[e.Weighted=3]="Weighted",e[e.WeightedMid=4]="WeightedMid",e[e.SpreadBp=5]="SpreadBp",e}(m||{});function ne(e,j){if(e&1&&(s(0,"mat-option",2),c(1),s(2,"mb-kd"),c(3),o()()),e&2){let t=j.$implicit;p("value",t),a(),h(" ",t.name,","),a(2),f(t.tex)}}var Ee=(()=>{class e{selectionChanged(t){this.selectionChange.emit(t.value.enumeration)}constructor(){this.comps=[{enumeration:m.Bid,name:"Bid",tex:"b_p",selected:!1},{enumeration:m.Ask,name:"Ask",tex:"a_p",selected:!1},{enumeration:m.Mid,name:"Mid",tex:"\\frac{b_p+a_p}{2}",selected:!1},{enumeration:m.Weighted,name:"Weighted",tex:"\\frac{b_p\xB7b_s+a_p\xB7a_s}{b_s+a_s}",selected:!1},{enumeration:m.WeightedMid,name:"Weighted Mid",tex:"\\frac{b_p\xB7a_s+a_p\xB7b_s}{b_s+a_s}",selected:!1},{enumeration:m.SpreadBp,name:"Spread bp",tex:"10000\\frac{a_p-b_p}{mid}",selected:!0}],this.compSelected=this.comps[m.Mid.valueOf()],this.selectionChange=S(),this.label=d("Quote component"),this.initial=d.required(),O(()=>{let t=this.initial().valueOf(),i=this.compSelected.enumeration.valueOf();this.comps[i].selected=!1,this.comps[t].selected=!0,this.compSelected=this.comps[t]})}ngOnInit(){this.selectionChange.emit(this.compSelected.enumeration)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=u({type:e,selectors:[["mb-quote-component"]],inputs:{label:[1,"label"],initial:[1,"initial"]},outputs:{selectionChange:"selectionChange"},decls:8,vars:3,consts:[["appearance","fill","floatLabel","always",2,"width","10em"],[3,"valueChange","selectionChange","value"],["selected","comp.selected",3,"value"]],template:function(i,n){i&1&&(s(0,"mat-form-field",0)(1,"mat-label"),c(2),o(),s(3,"mat-select",1),M("valueChange",function(l){return L(n.compSelected,l)||(n.compSelected=l),l}),C("selectionChange",function(l){return n.selectionChanged(l)}),s(4,"mat-select-trigger"),c(5),o(),_(6,ne,4,3,"mat-option",2,v),o()()),i&2&&(a(2),f(n.label()),a(),y("value",n.compSelected),a(2),h(" ",n.compSelected.name," "),a(),x(n.comps))},dependencies:[T,D,q,I,w,W],styles:["mat-form-field[_ngcontent-%COMP%]{margin:0;padding:0}"],changeDetection:0})}}return e})();export{r as a,ye as b,m as c,Ee as d};
