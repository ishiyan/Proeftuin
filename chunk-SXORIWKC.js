import{a as Gt,b as jt}from"./chunk-WZ3757SI.js";import"./chunk-NJIOGT5G.js";import{a as Ut}from"./chunk-ROAU7RFZ.js";import"./chunk-NB6J63EI.js";import{d as Mt}from"./chunk-GDSPKWHD.js";import"./chunk-N7QUUUBK.js";import"./chunk-PN3F32CS.js";import"./chunk-CTH7SD42.js";import"./chunk-GY7ZMNVP.js";import{d as _t}from"./chunk-R66P2ZV3.js";import"./chunk-XMGSTBON.js";import{f as Dt}from"./chunk-AJ6EMB42.js";import{b as xt,g as Ct,i as kt,j as Et,l as Vt,m as zt,r as Pt}from"./chunk-54ETGEND.js";import"./chunk-FL6TJNLZ.js";import"./chunk-QW7XPV2M.js";import"./chunk-CQHXB3AB.js";import"./chunk-XROT6GAC.js";import{a as le}from"./chunk-XNZQSP5G.js";import{a as se}from"./chunk-UZF2YIZM.js";import"./chunk-NQ3DH3AB.js";import"./chunk-HIXOKOCS.js";import"./chunk-LS43SSTU.js";import"./chunk-7OPCGBFG.js";import"./chunk-MKQKGFWP.js";import{Ba as qt,Ea as Ft,Fa as Lt,Ga as ut,Ia as Wt,Ja as Tt,Ka as Bt,La as Ht,Ma as Nt,Na as Rt,Pa as dt,Qa as Ot,k as It}from"./chunk-GDNQNY7K.js";import"./chunk-FM2UNIMX.js";import{Aa as pt,Ab as gt,Bb as vt,Cb as j,Cc as ce,Db as A,Dc as wt,Eb as x,Fb as Y,Jb as yt,Nb as at,Wa as T,Wb as At,Xb as St,ac as C,ba as ht,cc as bt,fc as et,ga as U,gb as tt,gc as nt,ha as G,hc as rt,ia as ft,zb as mt}from"./chunk-OH5MFEO2.js";import{e as z,g as ue}from"./chunk-VOSPIT4N.js";var he=z((Un,de)=>{"use strict";de.exports=function(){var r=function(a,t){return arguments.length<2?a.x:(a.x=t,u)},n=function(a,t){return arguments.length<2?a.y:(a.y=t,u)};function u(a){return u.xv(a)}u.x=function(a){return arguments.length?(r=a,e()):r},u.y=function(a){return arguments.length?(n=a,e()):n};function e(){return u.xv=r,u.yv=n,u}return e()}});var pe=z((Gn,fe)=>{"use strict";fe.exports=function(){var r=function(i){return i.date},n=function(i){return i.open},u=function(i){return i.high},e=function(i){return i.low},a=function(i){return i.close},t=function(i){return i.volume};function o(i){return o.c(i)}o.date=function(i){return arguments.length?(r=i,c()):r},o.open=function(i){return arguments.length?(n=i,c()):n},o.high=function(i){return arguments.length?(u=i,c()):u},o.low=function(i){return arguments.length?(e=i,c()):e},o.close=function(i){return arguments.length?(a=i,c()):a},o.volume=function(i){return arguments.length?(t=i,c()):t};function c(){return o.d=r,o.o=n,o.h=u,o.l=e,o.c=a,o.v=t,o}return c()}});var ge=z((jn,me)=>{"use strict";me.exports=function(){var r=function(o,c){if(arguments.length<2)return o.start.date;o.start.date=c},n=function(o,c){if(arguments.length<2)return o.start.value;o.start.value=c},u=function(o,c){if(arguments.length<2)return o.end.date;o.end.date=c},e=function(o,c){if(arguments.length<2)return o.end.value;o.end.value=c};function a(o){return a.sv(o)}a.startDate=function(o){return arguments.length?(r=o,t()):r},a.startValue=function(o){return arguments.length?(n=o,t()):n},a.endDate=function(o){return arguments.length?(u=o,t()):u},a.endValue=function(o){return arguments.length?(e=o,t()):e};function t(){return a.sd=r,a.sv=n,a.ed=u,a.ev=e,a}return t()}});var ye=z((Yn,ve)=>{"use strict";ve.exports=function(){var r=function(t){return t.date},n=function(t,o){return arguments.length<2?t.value:(t.value=o,e)},u=function(t){return 0};function e(t){return e.v(t)}e.date=function(t){return arguments.length?(r=t,a()):r},e.value=function(t){return arguments.length?(n=t,a()):n},e.zero=function(t){return arguments.length?(u=t,a()):u};function a(){return e.d=r,e.v=n,e.z=u,e}return a()}});var Se=z((Xn,Ae)=>{"use strict";Ae.exports=function(){var r=function(a){return a.date},n=function(a){return a.volume};function u(a){return u.v(a)}u.date=function(a){return arguments.length?(r=a,e()):r},u.volume=function(a){return arguments.length?(n=a,e()):n};function e(){return u.d=r,u.v=n,u}return e()}});var we=z((Qn,be)=>{"use strict";be.exports=function(){var r=function(o){return o.date},n=function(o){return o.high},u=function(o){return o.low},e=function(o){return o.spread};function a(o){t()}a.date=function(o){return arguments.length?(r=o,t()):r},a.high=function(o){return arguments.length?(n=o,t()):n},a.low=function(o){return arguments.length?(u=o,t()):u},a.spread=function(o){return arguments.length?(e=o,t()):e};function t(){return a.d=r,a.h=n,a.l=u,a.s=e,a}return t()}});var xe=z((Jn,Me)=>{"use strict";Me.exports=function(){var r=function(t){return t.date},n=function(t){return t.type},u=function(t){return t.price};function e(t){return e.p(t)}e.date=function(t){return arguments.length?(r=t,a()):r},e.type=function(t){return arguments.length?(n=t,a()):n},e.price=function(t){return arguments.length?(u=t,a()):u};function a(){return e.d=r,e.t=n,e.p=u,e}return a()}});var ke=z((Kn,Ce)=>{"use strict";Ce.exports=function(){var r=function(t){return t.start},n=function(t){return t.end},u=function(t,o){return arguments.length<2?t.value:(t.value=o,e)};function e(t){return e.v(t)}e.start=function(t){return arguments.length?(r=t,a()):r},e.end=function(t){return arguments.length?(n=t,a()):n},e.value=function(t){return arguments.length?(u=t,a()):u};function a(){return e.s=r,e.e=n,e.v=u,e}return a()}});var Yt=z((Zn,Ee)=>{"use strict";Ee.exports=function(){return{crosshair:he(),ohlc:pe(),trendline:ge(),value:ye(),volume:Se(),tick:we(),trade:xe(),supstance:ke()}}});var ze=z(($n,Ve)=>{"use strict";Ve.exports=function(){function r(n,u,e,a){a=a!==void 0?a:!0;function t(o){return n.apply(n,arguments)}return t.invert=n.invert,t.domain=function(o){return arguments.length?(a?n.domain([Math.max(e.domain[0],o[0]),Math.min(e.domain[1],o[1])]):n.domain(o),u&&u(),t):n.domain()},t.range=function(o){if(!arguments.length)return n.range();throw"zoomable is a read only range. Use this scale for zooming only"},t.copy=function(){return r(n.copy(),u,e,a)},t.clamp=function(o){return arguments.length?(a=o,t):a},t}return r}});var Xt=z((tr,De)=>{"use strict";De.exports=function(){return{rebindCallback:Pe,rebind:function(r,n){var u=Array.prototype.slice.call(arguments,0);return u.splice(2,0,void 0),Pe.apply(this,u)},functor:function(r){return typeof r=="function"?r:function(){return r}}}};function Pe(r,n,u){for(var e=2,a=arguments.length,t;++e<a;)r[t=arguments[e]]=En(r,n,n[t],u);return r}function En(r,n,u,e){return function(){var a=u.apply(n,arguments);return e&&a===n&&e(),a===n?r:a}}});var Ie=z((er,_e)=>{"use strict";_e.exports=function(r,n,u,e,a,t){function o(b,P,E,D,B,H,J,Q,lt){var st,R={tickFormat:b.daily[b.daily.length-1][2]},K=3;E=E||r(),D=D||[new Date(0),new Date(1)],B=B===void 0?.2:B,H=H===void 0?.65:H,J=J||{domain:E.domain()},Q=Q||!1,lt=lt||t(E,X,J);function L(V,W){var N=st[V instanceof Date?V.getTime():+V];return W=W||0,N===void 0&&(D[0]>V?N=-1:N=u(D,V)),E(N+W)}L.invert=function(V){var W=D[L.invertToIndex(V)];return W||null},L.invertToIndex=function(V){return Math.round(E.invert(V))},L.domain=function(V){if(!arguments.length){var W=E.domain();return W[0]<0&&W[W.length-1]<0?[]:(W=[Math.max(Math.ceil(W[0]),0),Math.min(Math.floor(W[W.length-1]),D.length-1)],D.slice(W[0],W[W.length-1]+1))}return D=V,Jt()};function X(){return K=c(E,D,B),L}function oe(){st=h(D)}function Jt(){return oe(),E.domain([0,D.length-1]),X(),E.domain(E.range().map(a(H,K)).map(E.invert)),J.domain=E.domain(),X()}L.copy=function(){return o(b,P,E.copy(),D,B,H,J,Q)},L.band=function(){return K},L.outerPadding=function(V){return arguments.length?(H=V,Jt()):H},L.padding=function(V){return arguments.length?(B=V,Jt()):B},L.zoomable=function(){return lt},L.ticks=function(V,W){var N=L.domain(),it=E.domain();if(!N.length)return[];var Z=V===void 0?Kt(N,it,10):typeof V=="number"?Kt(N,it,V):null;R.tickFormat=Z?Z[2]:Kt(N,it,10)[2],Z&&(V=Z[0],W=Z[1]);var ot=V.every(W).range(N[0],+N[N.length-1]+1);return ot.map(d(N,Q)).reduce(g,[])};function Kt(V,W,N){if(V.length==1)return P;var it=V[V.length-1]-V[0],Z=it/w<1,ot=Z?b.intraday:b.daily,Zt=Z?l:p,kn=Math.min(Math.round(i(V,W)*N),N),$t=it/kn,$=u(Zt,$t);return $==ot.length?ot[$-1]:$?ot[$t/Zt[$-1]<Zt[$]/$t?$-1:$]:ot[$]}return L.closestTicks=function(V){return arguments.length?(Q=V,L):Q},L.tickFormat=function(){return function(V){return R.tickFormat(V)}},e(L,E,X,"range"),oe(),X()}function c(b,P,E){return Math.abs(b(P.length-1)-b(0))/Math.max(1,P.length-1)*(1-E)}function i(b,P){return b.length/(P[P.length-1]-P[0])}function h(b){var P={};return b.forEach(function(E,D){P[+E]=D}),P}function d(b,P){var E=h(b);return function(D){var B=E[+D];if(B!==void 0)return b[B];var H=u(b,D);return P&&H>0&&+D-+b[H-1]<+b[H]-+D&&H--,b[H]}}function g(b,P){return(b.length===0||b[b.length-1]!==P)&&b.push(P),b}var w=864e5,p=[w,6048e5,2592e6,7776e6,31536e6],l=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5],f=n.timeFormat("%b %e"),v=ct([[n.timeFormat("%b %Y"),function(b){return b.getMonth()}],[n.timeFormat("%Y"),function(){return!0}]]),s=ct([[n.timeFormat(":%S"),function(b){return b.getSeconds()}],[n.timeFormat("%I:%M"),function(b){return b.getMinutes()}],[n.timeFormat("%I %p"),function(){return!0}]]),m=[n.timeSecond,1,ct([[n.timeFormat(":%S"),function(b){return b.getSeconds()}],[n.timeFormat("%I:%M"),function(b){return b.getMinutes()}],[n.timeFormat("%I %p"),function(b){return b.getHours()}],[n.timeFormat("%b %e"),function(){return!0}]])],y=n.utcFormat("%b %e"),S=ct([[n.utcFormat("%b %Y"),function(b){return b.getUTCMonth()}],[n.utcFormat("%Y"),function(){return!0}]]),k=ct([[n.utcFormat(":%S"),function(b){return b.getUTCSeconds()}],[n.utcFormat("%I:%M"),function(b){return b.getUTCMinutes()}],[n.utcFormat("%I %p"),function(){return!0}]]),F=[n.timeSecond,1,ct([[n.utcFormat(":%S"),function(b){return b.getUTCSeconds()}],[n.utcFormat("%I:%M"),function(b){return b.getUTCMinutes()}],[n.utcFormat("%I %p"),function(b){return b.getUTCHours()}],[n.utcFormat("%b %e"),function(){return!0}]])],M=[[n.timeDay,1,f],[n.timeMonday,1,f],[n.timeMonth,1,v],[n.timeMonth,3,v],[n.timeYear,1,v]],_=[[n.timeSecond,1,s],[n.timeSecond,5,s],[n.timeSecond,15,s],[n.timeSecond,30,s],[n.timeMinute,1,s],[n.timeMinute,5,s],[n.timeMinute,15,s],[n.timeMinute,30,s],[n.timeHour,1,s],[n.timeHour,3,s],[n.timeHour,6,s],[n.timeHour,12,s],[n.timeDay,1,f]],I=[[n.utcDay,1,y],[n.utcMonday,1,y],[n.utcMonth,1,S],[n.utcMonth,3,S],[n.utcYear,1,S]],q=[[n.utcSecond,1,k],[n.utcSecond,5,k],[n.utcSecond,15,k],[n.utcSecond,30,k],[n.utcMinute,1,k],[n.utcMinute,5,k],[n.utcMinute,15,k],[n.utcMinute,30,k],[n.utcHour,1,k],[n.utcHour,3,k],[n.utcHour,6,k],[n.utcHour,12,k],[n.utcDay,1,y]];function O(){return o({daily:M,intraday:_},m)}return O.utc=function(){return o({daily:I,intraday:q},F)},O};function ct(r){return function(n){for(var u=0;u<r.length;u++)if(r[u][1](n))return r[u][0](n)}}});var ee=z((nr,qe)=>{"use strict";qe.exports=function(r){var n=ze()(),u=Xt()(),e=Yt()(),a=Ie()(r.scaleLinear,r,r.bisect,u.rebindCallback,Qt,n);function t(c,i){return i=i||e.ohlc(),r.scaleLinear().domain([r.min(c.map(i.low())),r.max(c.map(i.high()))].map(Qt(.02)))}function o(c,i,h){return i=i||e.value(),h=h===void 0?.02:h,te(r,c,i,h)}return{financetime:a,plot:{candlestick:t,close:o,ohlc:t,percent:function(c,i){var h=c.domain();return i=i||h[0],c.copy().domain([h[0],h[h.length-1]].map(function(d){return(d-i)/i}))},supstance:function(c,i){return i=i||e.supstance(),te(r,c,i.v,.02)},tick:t,time:function(c,i){return i=i||e.value(),a().domain(c.map(i.d))},tradearrow:function(c,i){return i=i||e.trade(),te(r,c,i.p,.02)},trendline:function(c,i){i=i||e.trendline();var h=zn(c,function(d){return[i.sv(d),i.ev(d)]});return r.scaleLinear().domain(r.extent(h).map(Qt(.04)))},volume:function(c,i){return i=i||e.ohlc().v,r.scaleLinear().domain([0,r.max(c.map(i))*1.15])}}}};function Vn(r,n,u,e){return n.length>0?r.extent(n,u).map(Qt(e)):[]}function te(r,n,u,e){return r.scaleLinear().domain(Vn(r,n,u,e))}function Qt(r,n){return r=r||0,function(u,e,a){if(a.length>2)throw"array.length > 2 unsupported. array.length = "+a.length;return n=n||a[a.length-1]-a[0],u+(e*2-1)*n*r}}function zn(r,n){return r.map(n).reduce(function(u,e){return u.concat(e)}).filter(function(u){return u!==null})}});var Le=z((rr,Fe)=>{"use strict";Fe.exports=function(r,n,u,e){var a=function(l){var f,v,s=["data"];function m(y){var S=m.select(y).data(l,f),k=S.enter().append("g").attr("class",w(s," "));return S.exit().remove(),{entry:k,selection:k.merge(S)}}return m.select=function(y){return y.selectAll("g."+w(s,"."))},m.mapper=function(y){return arguments.length?(l=y,m):l},m.scope=function(y){return arguments.length?(v=y,s=["data","scope-"+v],m):v},m.key=function(y){return arguments.length?(f=y,m):f},m};a.mapper={unity:function(l){return l},array:function(l){return[l]}};function t(){var l=r().curve(u);function f(v){return l(v)}return f.init=function(v,s,m,y,S){return l.defined(function(k){return m(k)!==null}).x(function(k){return s(v(k),S===void 0?S:S(k))}).y(function(k){return y(m(k))})},f.d3=function(){return l},f}function o(){var l=n().curve(u);function f(v){return l(v)}return f.init=function(v,s,m,y,S){return l.defined(function(k){return m(k)!==null}).x(function(k){return s(v(k))}).y0(function(k){return y(S)}).y1(function(k){return y(m(k))})},f.d3=function(){return l},f}function c(l){return{up:function(f){return l.o(f)<l.c(f)},down:function(f){return l.o(f)>l.c(f)},equal:function(f){return l.o(f)===l.c(f)}}}function i(l,f,v,s){var m=v instanceof Array?v:[v];s=s||c(f),Object.keys(s).forEach(function(y){d(l,s[y],m,y)})}function h(l,f,v){i(l,f,v,c(f))}function d(l,f,v,s){l.selectAll("path."+w(v,".")+"."+s).data(function(m){return[m.filter(f)]}).enter().append("path").attr("class",w(v," ")+" "+s)}function g(l){return l.band!==void 0?Math.max(l.band(),1):3}function w(l,f){if(l.length){for(var v=l[0],s=1;s<l.length;s++)v+=f+l[s];return v}}function p(){var l=a(),f=[],v=function(S){return S.scale()},s,m;function y(S){var k=l.mapper(function(){return f.map(function(){return[]})})(S);k.selection.each(function(F,M){f[M](e(this))}),y.refresh(S)}return y.refresh=function(S){l.select(S).data(function(k){var F=m(k);if(F==null)return f.map(function(){return[]});var M=s(F);return f.map(function(_){var I=v(_)===s?F:v(_).invert(M);return[{value:I}]})}).each(function(k,F){f[F](e(this))})},y.plots=function(S){return arguments.length?(f=S,y):f},y.scale=function(S){return arguments.length?(s=S,y):s},y.accessor=function(S){return arguments.length?(m=S,y):m},y.scope=function(S){return arguments.length?(l.scope(S),y):l.scope()},y.plotScale=function(S){return arguments.length?(v=S,y):v},y}return{dataSelector:a,appendPathsGroupBy:i,appendPathsUpDownEqual:h,horizontalPathLine:function(l,f,v,s){return function(m){if(!m.length)return null;var y=m[0],S=m[m.length-1];return"M "+f(l(y))+" "+s(v(y))+" L "+f(l(S))+" "+s(v(S))}},pathLine:t,pathArea:o,barWidth:g,scaledStrokeWidth:function(l,f,v){return f=f||1,v=v||1,function(){return Math.min(f,g(l)/v)+"px"}},joinPath:function(l){return function(f){return w(f.map(l())," ")}},interaction:{mousedispatch:function(l){return function(f){return f.on("mouseenter",function(v,s){e(this.parentNode).classed("mouseover",!0),l.call("mouseenter",this,s)}).on("mouseleave",function(v,s){var m=e(this.parentNode);m.classed("dragging")||(m.classed("mouseover",!1),l.call("mouseout",this,s))}).on("mousemove",function(v,s){l.call("mousemove",this,s)})}},dragStartEndDispatch:function(l,f){return l.on("start",function(v,s){e(this.parentNode.parentNode).classed("dragging",!0),f.call("dragstart",this,s)}).on("end",function(v,s){e(this.parentNode.parentNode).classed("dragging",!1),f.call("dragend",this,s)})}},plotComposer:p}}});var Te=z((ar,We)=>{"use strict";We.exports=function(r,n,u,e,a){var t=function(o,c){var i={};return i.dataSelector=function(h,d){return c.dataSelector=e(h).key(d),i},i.xScale=function(h){return c.xScale=u(),o.xScale=function(d){return arguments.length?(c.xScale=d,h&&h(),o):c.xScale},i},i.yScale=function(h){return c.yScale=r(),o.yScale=function(d){return arguments.length?(c.yScale=d,h&&h(),o):c.yScale},i},i.accessor=function(h,d){return c.accessor=h,o.accessor=function(g){return arguments.length?(c.accessor=g,d&&d(),o):c.accessor},i},i.width=function(h){return c.width=a,o.width=function(d){return arguments.length?(c.width=n(d),h&&h(),o):c.width},i},i.on=function(h,d){return o.on=function(g,w){return h.on(g,w),d&&d(),o},i},i.plot=function(h,d){return i.xScale(d).yScale(d).accessor(h,d)},i};return t.dataMapper=e.mapper,t}});var He=z((ir,Be)=>{"use strict";Be.exports=function(r,n,u,e,a){return function(){var t={},o,c,i;function h(p){var l=t.dataSelector(p);e.appendPathsUpDownEqual(l.selection,t.accessor,["candle","body"]),e.appendPathsUpDownEqual(l.selection,t.accessor,["candle","wick"]),h.refresh(p)}h.refresh=function(p){p.selectAll("path.candle.body").attr("d",o),p.selectAll("path.candle.wick").attr("d",c).style("stroke-width",i)};function d(){o=e.joinPath(g),c=e.joinPath(w),i=e.scaledStrokeWidth(t.xScale,1,4)}function g(){var p=t.accessor,l=t.xScale,f=t.yScale,v=t.width(l);return function(s){var m=f(p.o(s)),y=f(p.c(s)),S=l(p.d(s))-v/2,k="M "+S+" "+m+" l "+v+" 0";return m!=y&&(k+=" L "+(S+v)+" "+y+" l "+-v+" 0 L "+S+" "+m),k}}function w(){var p=t.accessor,l=t.xScale,f=t.yScale,v=t.width(l);return function(s){var m=f(p.o(s)),y=f(p.c(s)),S=l(p.d(s)),k=S-v/2,F="M "+S+" "+f(p.h(s))+" L "+S+" "+Math.min(m,y);return m==y&&(F+=" M "+k+" "+m+" l "+v+" 0"),F+" M "+S+" "+Math.max(m,y)+" L "+S+" "+f(p.l(s))}}return a(h,t).plot(u(),d).width(d).dataSelector(a.dataMapper.array),d(),h}}});var Re=z((or,Ne)=>{"use strict";Ne.exports=function(r,n,u,e){return e=e||!1,function(){var a={},t=n.pathLine();function o(i){var h=a.dataSelector(i);h.entry.append("path").attr("class","line"),e&&h.selection.append("path").attr("class","zero"),o.refresh(i)}o.refresh=function(i){Pn(a.dataSelector.select(i),a.accessor,a.xScale,a.yScale,n,t,e)};function c(){t.init(a.accessor.d,a.xScale,a.accessor,a.yScale)}return u(o,a).plot(r(),c).dataSelector(u.dataMapper.array),c(),o}};function Pn(r,n,u,e,a,t,o){r.select("path.line").attr("d",t),o&&r.select("path.zero").attr("d",a.horizontalPathLine(n.d,u,n.z,e))}});var Ge=z((ur,Ue)=>{"use strict";Ue.exports=function(r,n,u,e,a){return function(){var t={},o=r(n()),c,i=4,h=14,d=50,g=[0,0],w="bottom";function p(l){var f=t.dataSelector.mapper(_n(t.accessor,o.scale()))(l);f.entry.append("path"),f.entry.append("text"),p.refresh(l)}return p.refresh=function(l){var f=c||(o.tickFormat()?o.tickFormat():o.scale().tickFormat());Dn(t.dataSelector.select(l),t.accessor,o,w,f,h,d,i,g)},p.axis=function(l){return arguments.length?(o=l,p):o},p.orient=function(l){return arguments.length?(w=l,p):w},p.format=function(l){return arguments.length?(c=l,p):c},p.height=function(l){return arguments.length?(h=l,p):h},p.width=function(l){return arguments.length?(d=l,p):d},p.translate=function(l){return arguments.length?(g=l,p):g},a(p,t).accessor(u()).dataSelector(),p}};function Dn(r,n,u,e,a,t,o,c,i){var h=e==="left"||e==="top"?-1:1;r.attr("transform","translate("+i[0]+","+i[1]+")"),r.select("path").attr("d",Fn(n,u,e,t,o,c,h)),r.select("text").text(qn(n,a)).call(In,n,u,e,h)}function _n(r,n){return function(u){var e=n.range(),a=e[0],t=e[e.length-1];return e=a<t?[a,t]:[t,a],u.filter(function(o){if(r(o)===null||r(o)===void 0)return!1;var c=n(r(o));return c!==null&&!isNaN(c)&&e[0]<=c&&c<=e[1]})}}function In(r,n,u,e,a){var t=u.scale();switch(e){case"left":case"right":r.attr("x",a*(Math.max(u.tickSizeInner(),0)+u.tickPadding())).attr("y",Oe(n,t)).attr("dy",".32em").style("text-anchor",a<0?"end":"start");break;case"top":case"bottom":r.attr("x",Oe(n,t)).attr("y",a*(Math.max(u.tickSizeInner(),0)+u.tickPadding())).attr("dy",a<0?"0em":".72em").style("text-anchor","middle");break}}function Oe(r,n){return function(u){return n(r(u))}}function qn(r,n){return function(u){return n(r(u))}}function Fn(r,n,u,e,a,t,o){return function(c){var i=n.scale(),h=i(r(c)),d=t;switch(u){case"left":case"right":var g=0;return e/2<t?d=e/2:g=e/2-t,"M 0 "+h+" l "+o*Math.max(n.tickSizeInner(),1)+" "+-d+" l 0 "+-g+" l "+o*a+" 0 l 0 "+e+" l "+o*-a+" 0 l 0 "+-g;case"top":case"bottom":var w=0;return a/2<t?d=a/2:w=a/2-t,"M "+h+" 0 l "+-d+" "+o*Math.max(n.tickSizeInner(),1)+" l "+-w+" 0 l 0 "+o*e+" l "+a+" 0 l 0 "+o*-e+" l "+-w+" 0";default:throw"Unsupported orient value: axisannotation.orient("+u+"). Set to one of: 'top', 'bottom', 'left', 'right'"}}}});var Ye=z((cr,je)=>{"use strict";je.exports=function(r){return function(){var n=r(0),u=r(0),e=r(12),a=r(15),t=r("up"),o=r(!0);function c(i,h){var d,g=n(i,h),w=u(i,h),p=e(i,h),l=a(i,h),f=t(i,h),v=o(i,h),s=f==="left"||f==="up"?1:-1,m=p/3,y=p/2,S=v?l/2:l;switch(d="M "+g+" "+w,f){case"up":case"down":d+=" l "+-y+" "+s*S+" l "+m+" 0",v&&(d+=" l 0 "+s*S),d+=" l "+m+" 0",v&&(d+=" l 0 "+-s*S),d+=" l "+m+" 0";break;case"left":case"right":d+=" l "+s*S+" "+-y+" l 0 "+m,v&&(d+=" l "+s*S+" 0"),d+=" l 0 "+m,v&&(d+=" l "+-s*S+" 0"),d+=" l 0 "+m;break;default:throw"Unsupported arrow.orient() = "+t}return d+" z"}return c.x=function(i){return arguments.length?(n=r(i),c):n},c.y=function(i){return arguments.length?(u=r(i),c):u},c.height=function(i){return arguments.length?(a=r(i),c):a},c.width=function(i){return arguments.length?(e=r(i),c):e},c.orient=function(i){return arguments.length?(t=r(i),c):t},c.tail=function(i){return arguments.length?(o=r(i),c):o},c}}});var ne=z((lr,Xe)=>{"use strict";Xe.exports=function(r){return{arrow:Ye()(Xt()().functor)}}});var Je=z((sr,Qe)=>{"use strict";Qe.exports=function(r,n,u,e,a,t){return function(){var o={},c=u("enter","out","move"),i,h,d=a.plotComposer().scope("composed-annotation").plotScale(function(M){return M.axis().scale()}),g=a.plotComposer().scope("composed-annotation").plotScale(function(M){return M.axis().scale()}),w,p;function l(M){var _=o.dataSelector(M);_.entry.append("path").attr("class","horizontal wire"),_.entry.append("path").attr("class","vertical wire"),_.entry.append("g").attr("class","axisannotation x").call(d),_.entry.append("g").attr("class","axisannotation y").call(g),M.selectAll("rect").data([void 0]).enter().append("rect").style("fill","none").style("pointer-events","all"),l.refresh(M)}l.refresh=function(M){var _=o.xScale.range(),I=o.yScale.range(),q=o.dataSelector.select(M),O=q.select("path.vertical"),b=q.select("path.horizontal"),P=q.select("g.axisannotation.x"),E=q.select("g.axisannotation.y");i=y(),h=m(),M.selectAll("rect").attr("x",Math.min.apply(null,_)).attr("y",Math.min.apply(null,I)).attr("height",Math.abs(I[I.length-1]-I[0])).attr("width",Math.abs(_[_.length-1]-_[0])).on("mouseenter",function(D){c.call("enter",this)}).on("mouseout",function(D){c.call("out",this),delete q.node().__coord__,S(q.datum()),v(q,O,b,P,E)}).on("mousemove",f(q,O,b,P,E)),v(q,O,b,P,E)};function f(M,_,I,q,O){return function(b){M.node().__coord__=n(b),v(M,_,I,q,O)}}function v(M,_,I,q,O){var b=M.node().__coord__;if(b!==void 0){var P=M.datum(),E=o.xScale.invert(b[0]),D=o.yScale.invert(b[1]),B=E!==null&&D!==null&&(o.accessor.xv(P)!==E||o.accessor.yv(P)!==D);o.accessor.xv(P,E),o.accessor.yv(P,D),B&&c.call("move",M.node(),P)}_.attr("d",i),I.attr("d",h),q.call(d.refresh),O.call(g.refresh),M.attr("display",F)}l.xAnnotation=function(M){return arguments.length?(d.plots(M instanceof Array?M:[M]),s()):d.plots()},l.yAnnotation=function(M){return arguments.length?(g.plots(M instanceof Array?M:[M]),s()):g.plots()},l.verticalWireRange=function(M){return arguments.length?(w=M,s()):w},l.horizontalWireRange=function(M){return arguments.length?(p=M,s()):p};function s(){return d.accessor(o.accessor.xv).scale(o.xScale),g.accessor(o.accessor.yv).scale(o.yScale),l}function m(){var M=p||o.xScale.range();return function(_){if(o.accessor.yv(_)===null)return null;var I=o.yScale(o.accessor.yv(_));return isNaN(I)?null:"M "+M[0]+" "+I+" L "+M[M.length-1]+" "+I}}function y(){var M=w||o.yScale.range();return function(_){if(o.accessor.xv(_)===null)return null;var I=o.xScale(o.accessor.xv(_)),q=o.xScale.range();return I<Math.min(q[0],q[q.length-1])||I>Math.max(q[0],q[q.length-1])?null:"M "+I+" "+M[0]+" L "+I+" "+M[M.length-1]}}function S(M){return M=M||{},o.accessor.xv(M,null),o.accessor.yv(M,null),M}function k(M){return M===void 0||o.accessor.xv(M)===null||o.accessor.yv(M)===null}function F(M){return k(M)?"none":null}return t(l,o).plot(e(),s).dataSelector(function(M){return k(M)?[S()]:[M]}).on(c),o.dataSelector.scope("crosshair"),s()}}});var Ze=z((dr,Ke)=>{"use strict";Ke.exports=function(r,n,u,e,a){return function(){var t={},o,c;function i(g){e.appendPathsUpDownEqual(t.dataSelector(g).selection,t.accessor,"ohlc"),i.refresh(g)}i.refresh=function(g){g.selectAll("path.ohlc").attr("d",o).style("stroke-width",c)};function h(){o=e.joinPath(d),c=e.scaledStrokeWidth(t.xScale,1,2)}function d(){var g=t.accessor,w=t.xScale,p=t.yScale,l=t.width(w);return function(f){var v=p(g.o(f)),s=p(g.c(f)),m=w(g.d(f)),y=m-l/2;return"M "+y+" "+v+" l "+l/2+" 0 M "+m+" "+p(g.h(f))+" L "+m+" "+p(g.l(f))+" M "+m+" "+s+" l "+l/2+" 0"}}return a(i,t).plot(u(),h).width(h).dataSelector(a.dataMapper.array),h(),i}}});var nn=z((hr,en)=>{"use strict";en.exports=function(r,n,u,e,a,t){function o(){var i={},h=u("mouseenter","mouseout","mousemove","drag","dragstart","dragend"),d=a.plotComposer().scope("composed-annotation").plotScale(function(p){return p.axis().scale()});function g(p){var l=i.dataSelector(p);l.entry.append("g").attr("class","supstance").append("path"),l.entry.append("g").attr("class","axisannotation y").call(d);var f=l.entry.append("g").attr("class","interaction").style("opacity",0).style("fill","none").call(a.interaction.mousedispatch(h));f.append("path").style("stroke-width","16px"),g.refresh(p)}g.refresh=function(p){$e(i.dataSelector.select(p),i.accessor,i.xScale,i.yScale,d)},g.drag=function(p){p.selectAll(".interaction path").call(c(h,i.accessor,i.xScale,i.yScale,d))},g.annotation=function(p){return arguments.length?(d.plots(p instanceof Array?p:[p]),g):d.plots()};function w(){return d.accessor(i.accessor.v).scale(i.yScale),g}return t(g,i).dataSelector(t.dataMapper.unity).plot(e(),w).on(h),i.dataSelector.scope("supstance"),w()}function c(i,h,d,g,w){var p=r().subject(function(l){return{x:0,y:g(h(l))}}).on("drag",function(l,f){var v=g.invert(l.y),s=n(this.parentNode.parentNode);h.v(f,v),$e(s,h,d,g,w),i.call("drag",this,f)});return a.interaction.dragStartEndDispatch(p,i)}return o};function $e(r,n,u,e,a){r.select(".supstance path").attr("d",tn(n,u,e)),r.select(".interaction path").attr("d",tn(n,u,e)),r.select(".axisannotation.y").call(a.refresh)}function tn(r,n,u){return function(e){var a;return Ln(r)?(a=[r.s(e),r.e(e)],a[0]=a[0]!==void 0?n(a[0]):n.range()[0],a[1]=a[1]!==void 0?n(a[1]):n.range()[1]):a=n.range(),"M "+a[0]+" "+u(r(e))+" L "+a[a.length-1]+" "+u(r(e))}}function Ln(r){return r.s!==void 0&&r.e!==void 0}});var an=z((fr,rn)=>{"use strict";rn.exports=function(r,n,u,e,a){return function(){var t={},o,c;function i(g){t.dataSelector(g).entry.append("path").attr("class","tick"),i.refresh(g)}i.refresh=function(g){t.dataSelector.select(g).select("path.tick").attr("d",o).style("stroke-width",c)};function h(){o=e.joinPath(d),c=e.scaledStrokeWidth(t.xScale,1,2)}function d(){var g=t.accessor,w=t.xScale,p=t.yScale,l=t.width(w);return function(f){var v=p(g.h(f)),s=p(g.l(f)),m=w(g.d(f)),y=m-l/2;return"M "+y+" "+v+" l "+l+" 0 M "+m+" "+v+" L "+m+" "+s+" M "+y+" "+s+" l "+l+" 0"}}return a(i,t).plot(u(),h).width(h).dataSelector(a.dataMapper.array),h(),i}}});var un=z((pr,on)=>{"use strict";on.exports=function(r,n,u,e,a,t,o,c){return function(){var i={},h=e("mouseenter","mouseout"),d=function(s){return i.yScale(i.accessor.p(s))},g=c().orient(function(s){return i.accessor.t(s)==="buy"?"up":"down"}),w;function p(s){var m=i.dataSelector(s),y=v(s.datum());t.appendPathsGroupBy(m.selection,i.accessor,"tradearrow",y),m.entry.append("path").attr("class","highlight").style("pointer-events","none"),m.selection.selectAll("path.tradearrow").on("mouseenter",function(S,k){var F=f(k,u(S)[0]);r(this.parentNode).select("path.highlight").datum(F.d).attr("d",g).call(Wn,y),h.call("mouseenter",this,F.d,F.i)}).on("mouseout",function(S,k){r(this.parentNode).selectAll("path.highlight").datum([]).attr("d",null).attr("class","highlight");var F=f(k,u(S)[0]);h.call("mouseout",this,F.d,F.i)}),p.refresh(s)}p.refresh=function(s){s.selectAll("path.tradearrow").attr("d",w)},p.orient=function(s){return arguments.length?(g.orient(s),l()):g.orient()},p.y=function(s){return arguments.length?(d=n(s),l()):d},p.arrow=function(){return g};function l(){return g.x(function(s){return i.xScale(i.accessor.d(s))}).y(d),w=t.joinPath(function(){return g}),p}function f(s,m){return s.map(function(y,S){return{d:y,i:S,x:i.xScale(i.accessor.d(y))}}).reduce(function(y,S){return Math.abs(y.x-m)<Math.abs(S.x-m)?y:S})}function v(s){return s.map(function(m){return i.accessor.t(m)}).reduce(function(m,y){return m[y]===void 0&&(m[y]=function(S){return y===i.accessor.t(S)}),m},{})}return o(p,i).plot(a(),l).on(h).dataSelector(o.dataMapper.array),l(),p}};function Wn(r,n){Object.keys(n).forEach(function(u){r.classed(u,n[u])})}});var dn=z((mr,sn)=>{"use strict";sn.exports=function(r,n,u,e,a,t){function o(){var d={},g=u("mouseenter","mouseout","mousemove","drag","dragstart","dragend");function w(p){var l=d.dataSelector(p),f=l.entry.append("g").attr("class","trendline");f.append("path").attr("class","body"),f.append("circle").attr("class","start").attr("r",1),f.append("circle").attr("class","end").attr("r",1);var v=l.entry.append("g").attr("class","interaction").style("opacity",0).style("fill","none").call(a.interaction.mousedispatch(g));v.append("path").attr("class","body").style("stroke-width","16px"),v.append("circle").attr("class","start").attr("r",8),v.append("circle").attr("class","end").attr("r",8),w.refresh(p)}return w.refresh=function(p){re(d.dataSelector.select(p),d.accessor,d.xScale,d.yScale)},w.drag=function(p){p.selectAll(".interaction circle.start").call(c(g,d.accessor,d.accessor.sd,d.xScale,d.accessor.sv,d.yScale)),p.selectAll(".interaction circle.end").call(c(g,d.accessor,d.accessor.ed,d.xScale,d.accessor.ev,d.yScale)),p.selectAll(".interaction path.body").call(i(g,d.accessor,d.xScale,d.yScale))},t(w,d).dataSelector(t.dataMapper.unity).plot(e()).on(g),w}function c(d,g,w,p,l,f){var v=r();return v.subject(function(s,m){return{x:p(w(m)),y:f(l(m))}}).on("drag",function(s,m){h(w,p,s.x,l,f,s.y,m),re(n(this.parentNode.parentNode.parentNode),g,p,f),d.call("drag",this,m)}),a.interaction.dragStartEndDispatch(v,d)}function i(d,g,w,p){var l={},f=r();return f.subject(function(v,s){return l.start={date:w(g.sd(s)),value:p(g.sv(s))},l.end={date:w(g.ed(s)),value:p(g.ev(s))},{x:0,y:0}}).on("drag",function(v,s){h(g.sd,w,v.x+l.start.date,g.sv,p,v.y+l.start.value,s),h(g.ed,w,v.x+l.end.date,g.ev,p,v.y+l.end.value,s),re(n(this.parentNode.parentNode.parentNode),g,w,p),d.call("drag",this,s)}),a.interaction.dragStartEndDispatch(f,d)}function h(d,g,w,p,l,f,v){var s=g.invert(w);s!=null&&d(v,s),p(v,l.invert(f))}return o};function re(r,n,u,e){r.selectAll("path.body").attr("d",Tn(n,u,e)),r.selectAll("circle.start").attr("cx",cn(n.sd,u)).attr("cy",ln(n.sv,e)),r.selectAll("circle.end").attr("cx",cn(n.ed,u)).attr("cy",ln(n.ev,e))}function Tn(r,n,u){return function(e){return"M "+n(r.sd(e))+" "+u(r.sv(e))+" L "+n(r.ed(e))+" "+u(r.ev(e))}}function cn(r,n){return function(u){return n(r(u))}}function ln(r,n){return function(u){return n(r(u))}}});var fn=z((gr,hn)=>{"use strict";hn.exports=function(r,n,u){return function(){var e={},a;function t(h){var d=e.dataSelector(h);c()?n.appendPathsUpDownEqual(d.selection,e.accessor,"volume"):d.entry.append("path").attr("class","volume"),t.refresh(h)}t.refresh=function(h){c()?h.selectAll("path.volume").attr("d",a):e.dataSelector.select(h).select("path.volume").attr("d",a)};function o(){a=n.joinPath(i)}function c(){return e.accessor.o&&e.accessor.c}function i(){var h=e.accessor,d=e.xScale,g=e.yScale,w=e.width(d);return function(p){var l=h.v(p);if(isNaN(l))return null;var f=g(0),v=g(l)-f,s=d(h.d(p))-w/2;return"M "+s+" "+f+" l 0 "+v+" l "+w+" 0 l 0 "+-v}}return u(t,e).plot(r(),o).width(o).dataSelector(u.dataMapper.array),o(),t}}});var mn=z((vr,pn)=>{"use strict";pn.exports=function(r){var n=ee()(r),u=Yt()(),e=Le()(r.line,r.area,r.curveMonotoneX,r.select),a=Xt()().functor,t=Te()(r.scaleLinear,a,n.financetime,e.dataSelector,e.barWidth),o=He()(r.scaleLinear,r.extent,u.ohlc,e,t),c=Re(),i=Ge()(r.axisTop,r.scaleLinear,u.value,e,t),h=ne()(r);return{axisannotation:i,candlestick:o,close:c(u.ohlc,e,t),crosshair:Je()(r.select,r.pointer,r.dispatch,u.crosshair,e,t),ohlc:Ze()(r.scaleLinear,r.extent,u.ohlc,e,t),supstance:nn()(r.drag,r.select,r.dispatch,u.supstance,e,t),tick:an()(r.scaleLinear,r.extent,u.tick,e,t),tradearrow:un()(r.select,a,r.pointer,r.dispatch,u.trade,e,t,h.arrow),trendline:dn()(r.drag,r.select,r.dispatch,u.trendline,e,t),volume:fn()(u.volume,e,t)}}});var vn=z((yr,gn)=>{"use strict";gn.exports=function(r){let n=function(e,a){if(typeof e=="number"||typeof e=="object"&&e.constructor===Number)return+e;let t=e.length,o=e.match(/\d+/);return e.endsWith("%")?+o/100*a:+o};return{convertLayout:function(e,a){let t={totalWidth:0,totalHeight:0,left:e.margin.left,width:n(e.width,a)-e.margin.left-e.margin.right,chart:{top:e.margin.top}},o=t.width;t.totalWidth=o+e.margin.left+e.margin.right;let c=n(e.heightChart,o);t.chart.height=c;let i=t.chart.top+c;if(e.heightIndicatorPanes&&e.heightIndicatorPanes.length>0){let h=e.heightIndicatorPanes.length;t.indicatorPanes=[];for(let d=0;d<h;++d){c=n(e.heightIndicatorPanes[d],o);let g={};g.top=i,g.height=c,t.indicatorPanes.push(g),i+=c}}return e.heightNavigation&&(t.navigation={top:i,height:n(e.heightNavigation,o)},i+=t.navigation.height),i+=e.margin.bottom,t.totalHeight=i,t}}}});var An=z((Ar,yn)=>{"use strict";yn.exports=function(r){function n(){var c=1,i="mirror",h=r.curveLinear,d,g=a,w=t,p=960,l=40,f=0,v=r.scaleLinear().domain([-1,0,0,1]).range(["#08519c","#bdd7e7","#bae4b3","#006d2c"]);function s(m){m.each(function(y,S){var k=r.select(this),F=2*c+1,M=1/0,_=-1/0,I=-1/0,q,O,b,P=y.map(function(R,K){var L=g.call(this,R,K),X=w.call(this,R,K);return L<M&&(M=L),L>_&&(_=L),-X>I&&(I=-X),X>I&&(I=X),[L,X]}),E=r.scaleLinear().domain([M,_]).range([0,p]),D=r.scaleLinear().domain([0,I]).range([0,l*c]),B=o(c,l,i),H;this.__chart__?(q=this.__chart__.x,O=this.__chart__.y,H=this.__chart__.t,b=this.__chart__.id):(q=E.copy(),O=D.copy(),H=B,b=++e);var J=k.selectAll("defs").data([null]);J.enter().append("defs").append("clipPath").attr("id","d3tc_horizon_clip_"+b).append("rect").attr("width",p).attr("height",l),J.select("rect").transition().duration(f).attr("width",p).attr("height",l),k.selectAll("g").data([null]).enter().append("g").attr("clip-path","url(#d3tc_horizon_clip_"+b+")");var Q=k.select("g").selectAll("path").data(r.range(-1,-c-1,-1).concat(r.range(1,c+1)),Number);d&&u.defined(function(R,K){return d(R,K)});var lt=u.curve(h).x(function(R){return q(R[0])}).y0(l*c).y1(function(R){return l*c-O(R[1])})(P),st=u.x(function(R){return E(R[0])}).y1(function(R){return l*c-D(R[1])})(P);Q.enter().append("path").style("fill",v).attr("transform",H).attr("d",lt),Q.transition().duration(f).style("fill",v).attr("transform",B).attr("d",st),Q.exit().transition().duration(f).attr("transform",B).attr("d",st).remove(),this.__chart__={x:E,y:D,t:B,id:b}}),r.timerFlush()}return s.duration=function(m){return arguments.length?(f=+m,s):f},s.bands=function(m){return arguments.length?(c=+m,v.domain([-c,0,0,c]),s):c},s.mode=function(m){return arguments.length?(i=m+"",s):i},s.colors=function(m){return arguments.length?(v.range(m),s):v.range()},s.interpolate=function(m){return arguments.length?(h=m,s):h},s.x=function(m){return arguments.length?(g=m,s):g},s.y=function(m){return arguments.length?(w=m,s):w},s.width=function(m){return arguments.length?(p=+m,s):p},s.height=function(m){return arguments.length?(l=+m,s):l},s.defined=function(m){return arguments.length?(d=m,s):d},s}var u=r.area(),e=0;function a(c){return c[0]}function t(c){return c[1]}function o(c,i,h){return h=="offset"?function(d){return"translate(0,"+(d+(d<0?1:0)-c)*i+")"}:function(d){return(d<0?"scale(1,-1)":"")+"translate(0,"+(d-c)*i+")"}}return n}});var ae=z((Sr,Sn)=>{"use strict";Ot();Sn.exports=function(r){return{accessor:Yt()(),plot:mn()(r),scale:ee()(r),svg:ne()(r),csch:vn()(r),horizonChart:An()(r)}}(dt)});Ot();var bn=ue(ae());var Hn=["container"];function Nn(r,n){if(r&1&&(A(0,"mat-option",7),C(1),x()),r&2){let u=n.$implicit;j("value",u.value),T(),bt(" ",u.viewValue," ")}}var wn=(()=>{let n=class n{constructor(){this.element=ht(pt),this.container=wt.required("container"),this.svgheight=ce(),this.bands=1,this.mode="mirror",this.interpolations=[{value:qt,viewValue:"d3.curveLinear"},{value:Ht,viewValue:"d3.curveStep"},{value:Nt,viewValue:"d3.curveStepBefore"},{value:Rt,viewValue:"d3.curveStepAfter"},{value:Ft,viewValue:"d3.curveBasis"},{value:ut,viewValue:"d3.curveCatmullRom"},{value:Lt,viewValue:"d3.curveCardinal"},{value:Bt,viewValue:"d3.curveNatural"},{value:Wt,viewValue:"d3.curveMonotoneX"},{value:Tt,viewValue:"d3.curveMonotoneY"}],this.interpolation=this.interpolations[0].value,this.colors=[["#08519c","#bdd7e7","#bae4b3","#006d2c"],["#4575b4","#e0f3f8","#fee090","#d73027"],["#e06c4c","#f5d2ca","#c0e2f0","#1da4d1"],["#313695","#abd9e9","#fee090","#d73027"],["#5e4fa2","#e6f598","#fee08b","#9e0142"],["#551b01","#f89d97","#c8ffd4","#014e1f"]],this.color=this.colors[0]}ngOnInit(){let e=se,a=this.container().nativeElement.getBoundingClientRect().width,t={left:12,right:12},o=a-t.left-t.right;this.height=this.svgheight(),this.svg=It(this.element.nativeElement).select("svg").attr("width",o).attr("height",this.height).append("g");let c=e.map(h=>h.close).reduce((h,d)=>h+d,0)/e.length,i=e.map(h=>[h.time,h.close?h.close-c:null]);this.chart=bn.horizonChart().width(o).height(this.height/this.bands).bands(this.bands).mode(this.mode).interpolate(this.interpolation).colors(this.color).defined(h=>h[1]),this.svg.data([i]).call(this.chart)}bandsChanged(e){let a=Math.max(1,+e);this.svg.call(this.chart.duration(500).height(this.height/a).bands(a))}modeChanged(e){this.svg.call(this.chart.duration(500).mode(e.value))}interpolationChanged(e){this.svg.call(this.chart.duration(500).interpolate(e.value))}colorChanged(e){this.svg.call(this.chart.duration(500).colors(this.colors[+e.value]))}};n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=tt({type:n,selectors:[["app-d3-sample-d3tc-horizon-chart-interactive"]],viewQuery:function(a,t){a&1&&At(t.container,Hn,5),a&2&&St()},inputs:{svgheight:[1,"svgheight"]},decls:75,vars:3,consts:[["container",""],[1,"container"],[1,"ml12px"],["placeholder","mode",3,"ngModelChange","selectionChange","ngModel"],["value","mirror","selected",""],["value","offset"],["placeholder","interpolation",3,"ngModelChange","selectionChange","ngModel"],[3,"value"],["matInput","","type","number","min","1","max","10","step","1","placeholder","bands",3,"ngModelChange","ngModel"],[3,"change"],[1,"label","ml12px"],["value","0","checked","",1,"ml12px"],[2,"background","#08519c"],[2,"background","#bdd7e7"],[2,"background","#bae4b3"],[2,"background","#006d2c"],["value","1",1,"ml12px"],[2,"background","#4575b4"],[2,"background","#e0f3f8"],[2,"background","#fee090"],[2,"background","#d73027"],["value","2",1,"ml12px"],[2,"background","#e06c4c"],[2,"background","#f5d2ca"],[2,"background","#c0e2f0"],[2,"background","#1da4d1"],["value","3",1,"ml12px"],[2,"background","#313695"],[2,"background","#abd9e9"],["value","4",1,"ml12px"],[2,"background","#5e4fa2"],[2,"background","#e6f598"],[2,"background","#fee08b"],[2,"background","#9e0142"],["value","5",1,"ml12px"],[2,"background","#551b01"],[2,"background","#f89d97"],[2,"background","#c8ffd4"],[2,"background","#014e1f"],[1,"mlr12px"]],template:function(a,t){if(a&1){let o=yt();Y(0,"div",1,0),A(2,"mat-form-field",2)(3,"mat-select",3),rt("ngModelChange",function(i){return U(o),nt(t.mode,i)||(t.mode=i),G(i)}),at("selectionChange",function(i){return U(o),G(t.modeChanged(i))}),A(4,"mat-option",4),C(5,"mirror"),x(),A(6,"mat-option",5),C(7,"offset"),x()()(),A(8,"mat-form-field",2)(9,"mat-select",6),rt("ngModelChange",function(i){return U(o),nt(t.interpolation,i)||(t.interpolation=i),G(i)}),at("selectionChange",function(i){return U(o),G(t.interpolationChanged(i))}),gt(10,Nn,2,2,"mat-option",7,mt),x()(),A(12,"mat-form-field",2)(13,"input",8),rt("ngModelChange",function(i){return U(o),nt(t.bands,i)||(t.bands=i),G(i)}),at("ngModelChange",function(i){return U(o),G(t.bandsChanged(i))}),x()(),Y(14,"br"),A(15,"mat-radio-group",9),at("change",function(i){return U(o),G(t.colorChanged(i))}),A(16,"label",10),C(17,"colors:"),x(),A(18,"mat-radio-button",11)(19,"span",12),C(20,"\xA0\xA0\xA0\xA0"),x(),A(21,"span",13),C(22,"\xA0\xA0\xA0\xA0"),x(),A(23,"span",14),C(24,"\xA0\xA0\xA0\xA0"),x(),A(25,"span",15),C(26,"\xA0\xA0\xA0\xA0"),x()(),A(27,"mat-radio-button",16)(28,"span",17),C(29,"\xA0\xA0\xA0\xA0"),x(),A(30,"span",18),C(31,"\xA0\xA0\xA0\xA0"),x(),A(32,"span",19),C(33,"\xA0\xA0\xA0\xA0"),x(),A(34,"span",20),C(35,"\xA0\xA0\xA0\xA0"),x()(),A(36,"mat-radio-button",21)(37,"span",22),C(38,"\xA0\xA0\xA0\xA0"),x(),A(39,"span",23),C(40,"\xA0\xA0\xA0\xA0"),x(),A(41,"span",24),C(42,"\xA0\xA0\xA0\xA0"),x(),A(43,"span",25),C(44,"\xA0\xA0\xA0\xA0"),x()(),A(45,"mat-radio-button",26)(46,"span",27),C(47,"\xA0\xA0\xA0\xA0"),x(),A(48,"span",28),C(49,"\xA0\xA0\xA0\xA0"),x(),A(50,"span",19),C(51,"\xA0\xA0\xA0\xA0"),x(),A(52,"span",20),C(53,"\xA0\xA0\xA0\xA0"),x()(),A(54,"mat-radio-button",29)(55,"span",30),C(56,"\xA0\xA0\xA0\xA0"),x(),A(57,"span",31),C(58,"\xA0\xA0\xA0\xA0"),x(),A(59,"span",32),C(60,"\xA0\xA0\xA0\xA0"),x(),A(61,"span",33),C(62,"\xA0\xA0\xA0\xA0"),x()(),A(63,"mat-radio-button",34)(64,"span",35),C(65,"\xA0\xA0\xA0\xA0"),x(),A(66,"span",36),C(67,"\xA0\xA0\xA0\xA0"),x(),A(68,"span",37),C(69,"\xA0\xA0\xA0\xA0"),x(),A(70,"span",38),C(71,"\xA0\xA0\xA0\xA0"),x()()(),Y(72,"br")(73,"br"),ft(),Y(74,"svg",39)}a&2&&(T(3),et("ngModel",t.mode),T(6),et("ngModel",t.interpolation),T(),vt(t.interpolations),T(3),et("ngModel",t.bands))},dependencies:[Dt,Ut,Pt,xt,Et,Ct,zt,Vt,kt,Mt,_t,Gt,jt],styles:["#horizon-bands[_ngcontent-%COMP%]{float:right}.label[_ngcontent-%COMP%]{vertical-align:middle}.ml12px[_ngcontent-%COMP%]{margin-left:12px}.mlr12px[_ngcontent-%COMP%]{margin-left:12px;margin-right:12px}.container[_ngcontent-%COMP%]{padding:12px}"]});let r=n;return r})();Ot();Ot();var Mn=ue(ae());var xn=(()=>{let n=class n{constructor(){this.element=ht(pt),this.theWidth=700,this.theHeight=40,this.theBands=3,this.theMode="mirror",this.theInterpolation=ut,this.theColors=["#08519c","#bdd7e7","#bae4b3","#006d2c"]}set width(e){this.theWidth=e,this.svg&&(this.svg.attr("width",e),this.g.call(this.chart.duration(0).width(e)))}set height(e){this.theHeight=e,this.svg&&(this.svg.attr("height",e),this.g.call(this.chart.duration(0).height(e)))}set bands(e){this.theBands=e,this.g&&this.g.call(this.chart.duration(0).bands(e))}set mode(e){this.theMode=e,this.g&&this.g.call(this.chart.duration(500).mode(e))}set colors(e){this.theColors=e,this.g&&this.g.call(this.chart.duration(500).colors(e))}set interpolation(e){this.theInterpolation=e,this.g&&this.g.call(this.chart.duration(500).interpolate(e))}set data(e){let a=e.map(t=>t.close).reduce((t,o)=>t+o,0)/e.length;this.horizonData=e.map(t=>[t.time,t.close?t.close-a:null]),this.g&&this.g.data([this.horizonData]).call(this.chart)}ngOnInit(){this.svg=It(this.element.nativeElement).select("svg").attr("width",this.theWidth).attr("height",this.theHeight),this.g=this.svg.append("g"),this.chart=Mn.horizonChart().width(this.theWidth).height(this.theHeight).bands(this.theBands).mode(this.theMode).colors(this.theColors).interpolate(this.theInterpolation).defined(e=>e[1]),this.g.data([this.horizonData]).call(this.chart)}};n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=tt({type:n,selectors:[["app-d3-sample-d3tc-horizon-chart-single"]],inputs:{width:"width",height:"height",bands:"bands",mode:"mode",colors:"colors",interpolation:"interpolation",data:"data"},decls:1,vars:0,template:function(a,t){a&1&&(ft(),Y(0,"svg"))},styles:["#horizon-bands[_ngcontent-%COMP%]{float:right}"]});let r=n;return r})();var Rn=["container"];function On(r,n){if(r&1&&(A(0,"mat-option",7),C(1),x()),r&2){let u=n.$implicit;j("value",u.value),T(),bt(" ",u.viewValue," ")}}var Cn=(()=>{let n=class n{constructor(){this.container=wt.required("container"),this.data=le,this.width=900,this.height=40,this.mode="mirror",this.interpolations=[{value:qt,viewValue:"d3.curveLinear"},{value:Ht,viewValue:"d3.curveStep"},{value:Nt,viewValue:"d3.curveStepBefore"},{value:Rt,viewValue:"d3.curveStepAfter"},{value:Ft,viewValue:"d3.curveBasis"},{value:ut,viewValue:"d3.curveCatmullRom"},{value:Lt,viewValue:"d3.curveCardinal"},{value:Bt,viewValue:"d3.curveNatural"},{value:Wt,viewValue:"d3.curveMonotoneX"},{value:Tt,viewValue:"d3.curveMonotoneY"}],this.interpolation=this.interpolations[0].value,this.colors=[["#08519c","#bdd7e7","#bae4b3","#006d2c"],["#4575b4","#e0f3f8","#fee090","#d73027"],["#e06c4c","#f5d2ca","#c0e2f0","#1da4d1"],["#313695","#abd9e9","#fee090","#d73027"],["#5e4fa2","#e6f598","#fee08b","#9e0142"],["#551b01","#f89d97","#c8ffd4","#014e1f"]],this.color=this.colors[0]}colorChanged(e){this.color=this.colors[+e.value]}ngOnInit(){let e=this.container().nativeElement.getBoundingClientRect().width,a={right:12,left:12};this.width=e-a.left-a.right}};n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=tt({type:n,selectors:[["app-d3-sample-d3tc-horizon-chart-bands"]],viewQuery:function(a,t){a&1&&At(t.container,Rn,5),a&2&&St()},decls:82,vars:52,consts:[["container",""],[1,"container"],[1,"ml12px"],["placeholder","mode",3,"ngModelChange","ngModel"],["value","mirror","selected",""],["value","offset"],["placeholder","interpolation",3,"ngModelChange","ngModel"],[3,"value"],["matInput","","type","number","min","10","max","120","step","10","placeholder","height",3,"ngModelChange","ngModel"],[3,"change"],[1,"label","ml12px"],["value","0","checked","",1,"ml12px"],[2,"background","#08519c"],[2,"background","#bdd7e7"],[2,"background","#bae4b3"],[2,"background","#006d2c"],["value","1",1,"ml12px"],[2,"background","#4575b4"],[2,"background","#e0f3f8"],[2,"background","#fee090"],[2,"background","#d73027"],["value","2",1,"ml12px"],[2,"background","#e06c4c"],[2,"background","#f5d2ca"],[2,"background","#c0e2f0"],[2,"background","#1da4d1"],["value","3",1,"ml12px"],[2,"background","#313695"],[2,"background","#abd9e9"],["value","4",1,"ml12px"],[2,"background","#5e4fa2"],[2,"background","#e6f598"],[2,"background","#fee08b"],[2,"background","#9e0142"],["value","5",1,"ml12px"],[2,"background","#551b01"],[2,"background","#f89d97"],[2,"background","#c8ffd4"],[2,"background","#014e1f"],[1,"ml12px",3,"data","width","height","mode","bands","interpolation","colors"]],template:function(a,t){if(a&1){let o=yt();A(0,"div",1,0),C(2,` A sequence of horizon charts with bands decreasing from 7 to 1.
`),x(),A(3,"mat-form-field",2)(4,"mat-select",3),rt("ngModelChange",function(i){return U(o),nt(t.mode,i)||(t.mode=i),G(i)}),A(5,"mat-option",4),C(6,"mirror"),x(),A(7,"mat-option",5),C(8,"offset"),x()()(),A(9,"mat-form-field",2)(10,"mat-select",6),rt("ngModelChange",function(i){return U(o),nt(t.interpolation,i)||(t.interpolation=i),G(i)}),gt(11,On,2,2,"mat-option",7,mt),x()(),A(13,"mat-form-field",2)(14,"input",8),rt("ngModelChange",function(i){return U(o),nt(t.height,i)||(t.height=i),G(i)}),x()(),Y(15,"br"),A(16,"mat-radio-group",9),at("change",function(i){return U(o),G(t.colorChanged(i))}),A(17,"label",10),C(18,"colors:"),x(),A(19,"mat-radio-button",11)(20,"span",12),C(21,"\xA0\xA0\xA0\xA0"),x(),A(22,"span",13),C(23,"\xA0\xA0\xA0\xA0"),x(),A(24,"span",14),C(25,"\xA0\xA0\xA0\xA0"),x(),A(26,"span",15),C(27,"\xA0\xA0\xA0\xA0"),x()(),A(28,"mat-radio-button",16)(29,"span",17),C(30,"\xA0\xA0\xA0\xA0"),x(),A(31,"span",18),C(32,"\xA0\xA0\xA0\xA0"),x(),A(33,"span",19),C(34,"\xA0\xA0\xA0\xA0"),x(),A(35,"span",20),C(36,"\xA0\xA0\xA0\xA0"),x()(),A(37,"mat-radio-button",21)(38,"span",22),C(39,"\xA0\xA0\xA0\xA0"),x(),A(40,"span",23),C(41,"\xA0\xA0\xA0\xA0"),x(),A(42,"span",24),C(43,"\xA0\xA0\xA0\xA0"),x(),A(44,"span",25),C(45,"\xA0\xA0\xA0\xA0"),x()(),A(46,"mat-radio-button",26)(47,"span",27),C(48,"\xA0\xA0\xA0\xA0"),x(),A(49,"span",28),C(50,"\xA0\xA0\xA0\xA0"),x(),A(51,"span",19),C(52,"\xA0\xA0\xA0\xA0"),x(),A(53,"span",20),C(54,"\xA0\xA0\xA0\xA0"),x()(),A(55,"mat-radio-button",29)(56,"span",30),C(57,"\xA0\xA0\xA0\xA0"),x(),A(58,"span",31),C(59,"\xA0\xA0\xA0\xA0"),x(),A(60,"span",32),C(61,"\xA0\xA0\xA0\xA0"),x(),A(62,"span",33),C(63,"\xA0\xA0\xA0\xA0"),x()(),A(64,"mat-radio-button",34)(65,"span",35),C(66,"\xA0\xA0\xA0\xA0"),x(),A(67,"span",36),C(68,"\xA0\xA0\xA0\xA0"),x(),A(69,"span",37),C(70,"\xA0\xA0\xA0\xA0"),x(),A(71,"span",38),C(72,"\xA0\xA0\xA0\xA0"),x()()(),Y(73,"br")(74,"br")(75,"app-d3-sample-d3tc-horizon-chart-single",39)(76,"app-d3-sample-d3tc-horizon-chart-single",39)(77,"app-d3-sample-d3tc-horizon-chart-single",39)(78,"app-d3-sample-d3tc-horizon-chart-single",39)(79,"app-d3-sample-d3tc-horizon-chart-single",39)(80,"app-d3-sample-d3tc-horizon-chart-single",39)(81,"app-d3-sample-d3tc-horizon-chart-single",39)}a&2&&(T(4),et("ngModel",t.mode),T(6),et("ngModel",t.interpolation),T(),vt(t.interpolations),T(3),et("ngModel",t.height),T(61),j("data",t.data)("width",t.width)("height",t.height)("mode",t.mode)("bands",7)("interpolation",t.interpolation)("colors",t.color),T(),j("data",t.data)("width",t.width)("height",t.height)("mode",t.mode)("bands",6)("interpolation",t.interpolation)("colors",t.color),T(),j("data",t.data)("width",t.width)("height",t.height)("mode",t.mode)("bands",5)("interpolation",t.interpolation)("colors",t.color),T(),j("data",t.data)("width",t.width)("height",t.height)("mode",t.mode)("bands",4)("interpolation",t.interpolation)("colors",t.color),T(),j("data",t.data)("width",t.width)("height",t.height)("mode",t.mode)("bands",3)("interpolation",t.interpolation)("colors",t.color),T(),j("data",t.data)("width",t.width)("height",t.height)("mode",t.mode)("bands",2)("interpolation",t.interpolation)("colors",t.color),T(),j("data",t.data)("width",t.width)("height",t.height)("mode",t.mode)("bands",1)("interpolation",t.interpolation)("colors",t.color))},dependencies:[Dt,Ut,Pt,xt,Et,Ct,zt,Vt,kt,Mt,_t,Gt,jt,xn],styles:["#horizon-bands[_ngcontent-%COMP%]{float:right}.label[_ngcontent-%COMP%]{vertical-align:middle}.ml12px[_ngcontent-%COMP%]{margin-left:12px}.container[_ngcontent-%COMP%]{padding:12px}"]});let r=n;return r})();var Xr=(()=>{let n=class n{};n.\u0275fac=function(a){return new(a||n)},n.\u0275cmp=tt({type:n,selectors:[["app-d3-sample-7"]],decls:3,vars:1,consts:[[1,"sample7",3,"svgheight"],[1,"sample7"]],template:function(a,t){a&1&&Y(0,"app-d3-sample-d3tc-horizon-chart-interactive",0)(1,"hr")(2,"app-d3-sample-d3tc-horizon-chart-bands",1),a&2&&j("svgheight",300)},dependencies:[wn,Cn],styles:[".sample7[_ngcontent-%COMP%]{margin:0;padding:0}"]});let r=n;return r})();export{Xr as Sample7Component};
