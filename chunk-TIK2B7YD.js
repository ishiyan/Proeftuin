import{a as N}from"./chunk-NUEK6SGB.js";import{j as E,m as R}from"./chunk-2ZUOBA3K.js";import{a as S}from"./chunk-3663PBMO.js";import{Ab as b,Bb as k,Kb as d,Kc as a,Lb as h,Lc as o,Mb as f,Mc as V,Qb as C,Vb as y,Wb as P,Xa as c,ca as p,cc as M,dc as O,fc as x,gc as _,ha as g,ia as u,ib as m,jc as w,kc as D,sa as v}from"./chunk-VOP6QBU4.js";var I=["trigger"];function X(n,r){if(n&1&&(d(0,"span",3),w(1),h()),n&2){let Y=P();c(),D(Y.hexValue())}}var A=(()=>{let r=class r{constructor(){this.overlay=p(E),this.trigger=V.required("trigger"),this.overlayRef=null,this.isOpen=v(!1),this.layout=o("outer-lightness"),this.alphaChannel=o(!1),this.diameter=o(280),this.ringWidth=o(24),this.handleSize=o(12),this.resolution=o("auto"),this.disabled=o(!1),this.hexValue=o("#ff4081"),this.backgroundColor=o("auto"),this.showValue=o(!0),this.closeOnSelect=o(!1),this.hexValueChange=a(),this.colorChange=a(),this.pickerOpened=a(),this.pickerClosed=a()}togglePicker(){this.disabled()||(this.isOpen()?this.closePicker():this.openPicker())}openPicker(){if(this.overlayRef||this.disabled())return;let s=this.overlay.position().flexibleConnectedTo(this.trigger()).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:8},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",offsetY:-8},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:8},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetY:-8}]);this.overlayRef=this.overlay.create({positionStrategy:s,hasBackdrop:!0,backdropClass:"transparent-backdrop",scrollStrategy:this.overlay.scrollStrategies.reposition(),panelClass:"color-picker-overlay"}),this.overlayRef.backdropClick().subscribe(()=>{this.closePicker()}),this.overlayRef.attachments().subscribe(()=>{let t=this.overlayRef?.backdropElement;t&&(t.addEventListener("touchstart",l=>{l.preventDefault(),this.closePicker()},{passive:!1}),t.addEventListener("touchend",l=>{l.preventDefault(),this.closePicker()},{passive:!1}))}),this.overlayRef.keydownEvents().subscribe(t=>{t.key==="Escape"&&this.closePicker()});let i=new S(N),e=this.overlayRef.attach(i);e.setInput("alphaChannel",this.alphaChannel()),e.setInput("layout",this.layout()),e.setInput("diameter",this.diameter()),e.setInput("ringWidth",this.ringWidth()),e.setInput("handleSize",this.handleSize()),e.setInput("resolution",this.resolution()),e.setInput("disabled",this.disabled()),e.setInput("hexValue",this.hexValue()),e.setInput("backgroundColor",this.backgroundColor()),e.instance.hexValueChange.subscribe(t=>{this.hexValueChange.emit(t),this.closeOnSelect()&&setTimeout(()=>{this.closePicker()},0)}),e.instance.colorChange.subscribe(t=>{this.colorChange.emit(t)}),this.isOpen.set(!0),this.pickerOpened.emit()}closePicker(){this.overlayRef&&(this.overlayRef.dispose(),this.overlayRef=null,this.isOpen.set(!1),this.pickerClosed.emit())}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=m({type:r,selectors:[["mb-color-disc-picker"]],viewQuery:function(i,e){i&1&&M(e.trigger,I,5),i&2&&O()},inputs:{layout:[1,"layout"],alphaChannel:[1,"alphaChannel"],diameter:[1,"diameter"],ringWidth:[1,"ringWidth"],handleSize:[1,"handleSize"],resolution:[1,"resolution"],disabled:[1,"disabled"],hexValue:[1,"hexValue"],backgroundColor:[1,"backgroundColor"],showValue:[1,"showValue"],closeOnSelect:[1,"closeOnSelect"]},outputs:{hexValueChange:"hexValueChange",colorChange:"colorChange",pickerOpened:"pickerOpened",pickerClosed:"pickerClosed"},decls:4,vars:5,consts:[["trigger",""],[1,"color-picker-trigger",3,"click"],[1,"color-preview"],[1,"color-value"]],template:function(i,e){if(i&1){let t=C();d(0,"div",1,0),y("click",function(){return g(t),u(e.togglePicker())}),f(2,"div",2),b(3,X,2,1,"span",3),h()}i&2&&(x("background-color",e.hexValue()),_("disabled",e.disabled()),c(3),k(e.showValue()?3:-1))},dependencies:[R],styles:["[_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%]   .color-picker-trigger[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--color-disc-picker-gap, .5rem);padding:var(--color-disc-picker-padding, .5rem);border:var(--color-disc-picker-border, 2px solid var(--mat-sys-outline-variant));border-radius:var(--color-disc-picker-border-radius, 8px);cursor:pointer;background:var(--color-disc-picker-background, var(--mat-sys-surface-container));transition:all .2s ease-in-out;min-height:var(--color-disc-picker-min-height, 44px);width:var(--color-disc-picker-width, auto);height:var(--color-disc-picker-height, auto)}[_nghost-%COMP%]   .color-picker-trigger[_ngcontent-%COMP%]:hover:not(.disabled){border-color:var(--color-disc-picker-hover-border, var(--mat-sys-primary));background:var(--color-disc-picker-hover-background, var(--mat-sys-surface-container-high))}[_nghost-%COMP%]   .color-picker-trigger[_ngcontent-%COMP%]:focus{outline:2px solid var(--mat-sys-primary);outline-offset:2px}[_nghost-%COMP%]   .color-picker-trigger.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}[_nghost-%COMP%]   .color-picker-trigger[_ngcontent-%COMP%]   .color-preview[_ngcontent-%COMP%]{width:var(--color-disc-picker-preview-width, 32px);height:var(--color-disc-picker-preview-height, 32px);border-radius:var(--color-disc-picker-preview-border-radius, 6px);border:1px solid rgba(0,0,0,.1);background:inherit}[_nghost-%COMP%]   .color-picker-trigger[_ngcontent-%COMP%]   .color-value[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:.875rem;color:var(--mat-sys-on-surface);text-transform:uppercase;min-width:4rem}[_ngcontent-%COMP%]:root   .transparent-backdrop[_ngcontent-%COMP%]{background:transparent;cursor:default;touch-action:auto;-webkit-tap-highlight-color:transparent;position:fixed!important;top:0!important;left:0!important;width:100vw!important;height:100vh!important}[_ngcontent-%COMP%]:root   .color-picker-overlay[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 8px 24px #00000026;background:var(--mat-sys-surface-container);padding:1rem;border:1px solid var(--mat-sys-outline-variant)}[_ngcontent-%COMP%]:root   .color-picker-overlay[_ngcontent-%COMP%]   mb-color-disc[_ngcontent-%COMP%]{display:block}"],changeDetection:0});let n=r;return n})();export{A as a};
