import{a as N}from"./chunk-RRDRWIFG.js";import{a as G,b as F}from"./chunk-ROAU7RFZ.js";import{d as M}from"./chunk-GDSPKWHD.js";import{a as D,f as L}from"./chunk-AJ6EMB42.js";import{g as H}from"./chunk-FM2UNIMX.js";import{Ab as x,Bb as y,Bc as T,Cb as c,Cc as d,Db as h,Eb as p,Fb as u,Nb as _,Ob as I,Wa as r,ac as w,bc as v,fc as W,gb as C,gc as b,hc as E,zc as f}from"./chunk-OH5MFEO2.js";var R=(n,l)=>l.id;function k(n,l){if(n&1&&(h(0,"mat-option",3),u(1,"mb-swatches",2),p()),n&2){let S=l.$implicit,e=I();c("value",S),r(),c("width",e.optionWidthPixels)("height",e.optionHeightPixels)("colors",S.palette)}}var O=48,X=24,A=24,m=1;function q(n){return n===1e3?0:1e3}var Z=(()=>{let l=class l{constructor(){this.selected=d(0),this.colors=d.required(),this.label=d("Select colors"),this.selectionChange=T(),this.optionHeightPixels=A,this.triggerHeightPixels=X,this.optionWidthPixels=A*m,this.triggerWidthPixels=X*m,this.selectWidthPixels=O+this.triggerWidthPixels,this.palettes={id:0,palettes:[],[Symbol.iterator]:function(){return this.palettes[Symbol.iterator]()}},this.selectedPalette={id:0,palette:[]},this.selectedIndex=0,f(()=>{let e=this.selected();this.selectedIndex=e;let s=this.palettes.palettes.length;s>0&&(e>=s&&(e=s-1),this.selectedIndex=e,this.selectedPalette=this.palettes.palettes[this.selectedIndex],this.selectionChange.emit(this.selectedPalette.palette))}),f(()=>{let e=this.colors(),s=q(this.palettes.id),t={id:s,palettes:[],[Symbol.iterator]:function(){return this.palettes[Symbol.iterator]()}};e.forEach((i,o)=>{t.palettes.push({id:s+o,palette:i})});let a=t.palettes.length;if(a>0){let i=this.selectedIndex;i>=a&&(i=a-1);let o=0;for(let g=0;g<a;++g){let P=e[g].length;o<P&&(o=P)}o<m&&(o=m),this.optionWidthPixels=o*this.optionHeightPixels,this.triggerWidthPixels=o*this.triggerHeightPixels,this.selectWidthPixels=O+this.triggerWidthPixels,this.palettes=t,this.selectedPalette=t.palettes[i],this.selectedIndex=i,this.selectionChange.emit(this.selectedPalette.palette)}})}selectionChanged(e){this.selectedIndex=this.palettes.palettes.indexOf(e.value),this.selectionChange.emit(e.value.palette)}computeWidthStyle(){return{width:`${this.selectWidthPixels}px`}}};l.\u0275fac=function(s){return new(s||l)},l.\u0275cmp=C({type:l,selectors:[["mb-swatches-select"]],inputs:{selected:[1,"selected"],colors:[1,"colors"],label:[1,"label"]},outputs:{selectionChange:"selectionChange"},decls:8,vars:6,consts:[[3,"ngStyle"],[3,"valueChange","selectionChange","value"],[3,"width","height","colors"],[3,"value"]],template:function(s,t){s&1&&(h(0,"mat-form-field",0)(1,"mat-label"),w(2),p(),h(3,"mat-select",1),E("valueChange",function(i){return b(t.selectedPalette,i)||(t.selectedPalette=i),i}),_("selectionChange",function(i){return t.selectionChanged(i)}),h(4,"mat-select-trigger"),u(5,"mb-swatches",2),p(),x(6,k,2,4,"mat-option",3,R),p()()),s&2&&(c("ngStyle",t.computeWidthStyle()),r(2),v(t.label()),r(),W("value",t.selectedPalette),r(2),c("width",t.triggerWidthPixels)("height",t.triggerHeightPixels)("colors",t.selectedPalette.palette),r(),y(t.palettes.palettes))},dependencies:[L,H,D,G,F,N,M],encapsulation:2,changeDetection:0});let n=l;return n})();export{Z as a};
