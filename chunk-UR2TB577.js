import{a as L}from"./chunk-IEKDCRBV.js";import{Ca as I,G as E,Qa as $,e as k,k as j}from"./chunk-GDNQNY7K.js";import{o as T}from"./chunk-FM2UNIMX.js";import{Aa as O,Cc as c,Fa as z,Nb as R,Pb as B,Qb as b,Ua as H,ba as C,gb as P,la as M,yc as A,zc as S}from"./chunk-OH5MFEO2.js";$();function _(s,e){let i=1<<s,n=0,r=0;for(let o=1;o<i;o*=2){let l=1&e/2,d=1&(e^l),u=N(o,n,r,l,d);n=u[0]+o*l,r=u[1]+o*d,e/=4}return[n,r]}function N(s,e,i,n,r){return r===0?(n===1&&(e=s-1-e,i=s-1-i),[i,e]):[e,i]}var U=["*"],v=300,Y=5,G=1,nt=(()=>{let e=class e{constructor(){this.document=C(M),this.platformId=C(z),this.elementRef=C(O),this.order=c(Y),this.size=c(v),this.strokeWidth=c(G),this.strokeColorFunc=c(),this.fillColorFunc=c(),this.twoPowerOrder=A(()=>Math.pow(2,this.order())),S(()=>{this.order(),this.size(),this.strokeWidth(),this.strokeColorFunc(),this.fillColorFunc(),this.render()})}render(){if(!T(this.platformId)||!this.document||this.document===null)return;let n=j(this.elementRef.nativeElement);n.select("svg").remove();let o=L(this.elementRef,this.size(),v,v,v)[0],d=n.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",o).attr("height",o).attr("viewBox",`0 0 ${o} ${o}`).append("g"),u=this.order(),p=this.twoPowerOrder(),w=o/p,x=w/2,f=p*p,m=E().domain([0,p]).range([0,o]),F=I().x(t=>m(t[0])+x).y(t=>m(t[1])+x),a=k(f).map(t=>_(u,t)),y=this.fillColorFunc();if(y){let t=d.selectAll("rect").data(a);t.exit().remove(),t.enter().append("rect").style("fill",(g,q)=>y(q/f)).attr("x",g=>m(g[0])).attr("y",g=>m(g[1])).attr("width",w).attr("height",w)}let D=this.strokeWidth(),W=this.strokeColorFunc(),h=d.selectAll("path").data(k(f-1));h.exit().remove(),W?h.enter().append("path").merge(h).attr("d",t=>F([a[t],a[t+1]])).attr("stroke",t=>W(t/f)).attr("stroke-width",D):h.enter().append("path").attr("class","seg").merge(h).attr("d",t=>F([a[t],a[t+1]])).attr("stroke-width",D)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=P({type:e,selectors:[["mb-hilbert-curve"]],hostBindings:function(r,o){r&1&&R("resize",function(){return o.render()},H)},inputs:{order:[1,"order"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],strokeColorFunc:[1,"strokeColorFunc"],fillColorFunc:[1,"fillColorFunc"]},ngContentSelectors:U,decls:1,vars:0,template:function(r,o){r&1&&(B(),b(0))},encapsulation:2,changeDetection:0});let s=e;return s})();export{nt as a};
