import{a as E}from"./chunk-IEKDCRBV.js";import{Ca as j,G as T,Qa as q,e as w,k as S}from"./chunk-KMPZBAPX.js";import{a as _,q as A}from"./chunk-HHLKRFKR.js";import{Aa as H,Ha as W,Ic as R,Jc as B,Tb as b,Vb as z,Wb as P,_a as M,ca as C,nb as O,za as d}from"./chunk-X346Y2AD.js";q();function I(n,s){let o=1<<n,r=0,e=0;for(let i=1;i<o;i*=2){let l=1&s/2,u=1&(s^l),c=$(i,r,e,l,u);r=c[0]+i*l,e=c[1]+i*u,s/=4}return[r,e]}function $(n,s,o,r,e){return e===0?(r===1&&(s=n-1-s,o=n-1-o),[o,s]):[s,o]}var N=["*"],g=300,U=5,Y=1,rt=(()=>{class n{constructor(){this.document=C(_),this.platformId=C(W),this.elementRef=C(H),this.order=d(U),this.size=d(g),this.strokeWidth=d(Y),this.strokeColorFunc=d(),this.fillColorFunc=d(),this.twoPowerOrder=R(()=>Math.pow(2,this.order())),B(()=>{this.order(),this.size(),this.strokeWidth(),this.strokeColorFunc(),this.fillColorFunc(),this.render()})}render(){if(!A(this.platformId)||!this.document||this.document===null)return;let o=S(this.elementRef.nativeElement);o.select("svg").remove();let e=E(this.elementRef,this.size(),g,g,g)[0],l=o.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",e).attr("height",e).attr("viewBox",`0 0 ${e} ${e}`).append("g"),u=this.order(),c=this.twoPowerOrder(),v=e/c,k=v/2,p=c*c,f=T().domain([0,c]).range([0,e]),x=j().x(t=>f(t[0])+k).y(t=>f(t[1])+k),a=w(p).map(t=>I(u,t)),F=this.fillColorFunc();if(F){let t=l.selectAll("rect").data(a);t.exit().remove(),t.enter().append("rect").style("fill",(m,L)=>F(L/p)).attr("x",m=>f(m[0])).attr("y",m=>f(m[1])).attr("width",v).attr("height",v)}let y=this.strokeWidth(),D=this.strokeColorFunc(),h=l.selectAll("path").data(w(p-1));h.exit().remove(),D?h.enter().append("path").merge(h).attr("d",t=>x([a[t],a[t+1]])).attr("stroke",t=>D(t/p)).attr("stroke-width",y):h.enter().append("path").attr("class","seg").merge(h).attr("d",t=>x([a[t],a[t+1]])).attr("stroke-width",y)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=O({type:n,selectors:[["mb-hilbert-curve"]],hostBindings:function(r,e){r&1&&b("resize",function(){return e.render()},!1,M)},inputs:{order:[1,"order"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],strokeColorFunc:[1,"strokeColorFunc"],fillColorFunc:[1,"fillColorFunc"]},ngContentSelectors:N,decls:1,vars:0,template:function(r,e){r&1&&(z(),P(0))},encapsulation:2,changeDetection:0})}}return n})();export{rt as a};
