import{a as M,b as D}from"./chunk-7MS4SRDN.js";import{b as z}from"./chunk-67GZXPBX.js";import{a as T}from"./chunk-NBFQFBAI.js";import{d as I}from"./chunk-X5WVURWV.js";import{a as B,f as R}from"./chunk-EWLX7HQJ.js";import{b as v,g as V,i as W,j as q,l as E,m as F,r as K}from"./chunk-QRHIHKQC.js";import{Eb as u,Jb as s,Jc as S,Kb as r,Pb as A,Tb as y,Ub as p,ab as m,ec as f,jc as d,ka as l,kc as c,la as g,lc as C,nb as x,tb as w,ya as P,za as b,zb as _}from"./chunk-X346Y2AD.js";import{a as o}from"./chunk-6NE7JDAX.js";function N(a,L){if(a&1){let t=A();s(0,"mat-form-field",0)(1,"mat-label"),f(2,"Fastest len"),r(),s(3,"input",1),C("ngModelChange",function(n){l(t);let i=p();return c(i.fastestLengthParam,n)||(i.fastestLengthParam=n),g(n)}),r()(),s(4,"mat-form-field",0)(5,"mat-label"),f(6,"Slowest len"),r(),s(7,"input",1),C("ngModelChange",function(n){l(t);let i=p();return c(i.slowestLengthParam,n)||(i.slowestLengthParam=n),g(n)}),r()()}if(a&2){let t=p();m(3),d("ngModel",t.fastestLengthParam),m(4),d("ngModel",t.slowestLengthParam)}}function k(a,L){if(a&1){let t=A();s(0,"mat-form-field",0)(1,"mat-label"),f(2,"Fastest \u03B1"),r(),s(3,"input",4),C("ngModelChange",function(n){l(t);let i=p();return c(i.fastestAlphaParam,n)||(i.fastestAlphaParam=n),g(n)}),r()(),s(4,"mat-form-field",0)(5,"mat-label"),f(6,"Slowest \u03B1"),r(),s(7,"input",4),C("ngModelChange",function(n){l(t);let i=p();return c(i.slowestAlphaParam,n)||(i.slowestAlphaParam=n),g(n)}),r()()}if(a&2){let t=p();m(3),d("ngModel",t.fastestAlphaParam),m(4),d("ngModel",t.slowestAlphaParam)}}function O(a,L){if(a&1){let t=A();s(0,"mb-bar-component",5),y("selectionChange",function(n){l(t);let i=p();return g(i.barComponentChanged(n))}),r()}if(a&2){let t=p();_("initial",t.barComponent)}}function Q(a,L){if(a&1){let t=A();s(0,"mb-quote-component",5),y("selectionChange",function(n){l(t);let i=p();return g(i.quoteComponentChanged(n))}),r()}if(a&2){let t=p();_("initial",t.quoteComponent)}}var j=a=>"fastestLength"in a,it=(()=>{class a{get efficiencyRatioLengthParam(){return this.paramsLength.efficiencyRatioLength}set efficiencyRatioLengthParam(t){(!t||t<2)&&(t=2),this.paramsLength.efficiencyRatioLength=t,this.paramsLength=o({},this.paramsLength),this.paramsAlpha.efficiencyRatioLength=t,this.paramsAlpha=o({},this.paramsAlpha),this.notify()}get fastestLengthParam(){return this.paramsLength.fastestLength}set fastestLengthParam(t){(!t||t<2)&&(t=2);let e=2/(t+1);e=e<1e-4?1e-4:e,e=e>1?1:e,this.paramsAlpha.fastestSmoothingFactor=e,this.paramsAlpha=o({},this.paramsAlpha),this.paramsLength.fastestLength=t,this.paramsLength=o({},this.paramsLength),this.notify()}get slowestLengthParam(){return this.paramsLength.slowestLength}set slowestLengthParam(t){(!t||t<2)&&(t=2);let e=2/(t+1);e=e<1e-4?1e-4:e,e=e>1?1:e,this.paramsAlpha.slowestSmoothingFactor=e,this.paramsAlpha=o({},this.paramsAlpha),this.paramsLength.slowestLength=t,this.paramsLength=o({},this.paramsLength),this.notify()}get useAlpha(){return this.useAlphaInternal}set useAlpha(t){this.useAlphaInternal!==t&&(this.useAlphaInternal=t,this.useAlphaInternal?(this.paramsAlpha=o({},this.paramsAlpha),this.notify()):(this.paramsLength=o({},this.paramsLength),this.notify()))}get fastestAlphaParam(){return this.paramsAlpha.fastestSmoothingFactor}set fastestAlphaParam(t){(!t||t>1)&&(t=1);let e=2/t-1;e=e<2?2:e,e=e>1024?1024:e,this.paramsLength.fastestLength=e,this.paramsAlpha.fastestSmoothingFactor=t,this.paramsAlpha=o({},this.paramsAlpha),this.notify()}get slowestAlphaParam(){return this.paramsAlpha.slowestSmoothingFactor}set slowestAlphaParam(t){(!t||t>1)&&(t=1);let e=2/t-1;e=e<2?2:e,e=e>1024?1024:e,this.paramsLength.slowestLength=e,this.paramsAlpha.slowestSmoothingFactor=t,this.paramsAlpha=o({},this.paramsAlpha),this.notify()}constructor(){this.initialized=!1,this.useAlphaInternal=!1,this.paramsLength={efficiencyRatioLength:10,fastestLength:2,slowestLength:30,barComponent:M.Close},this.paramsAlpha={efficiencyRatioLength:10,fastestSmoothingFactor:2/3,slowestSmoothingFactor:2/31,barComponent:M.Close},this.barComponentVisible=this.barComponent!==void 0,this.quoteComponentVisible=this.quoteComponent!==void 0,this.selectionChange=P(),this.initial=b.required(),S(()=>{let t=this.initial();j(t)?(this.paramsLength=t,this.useAlpha=!1):(this.paramsAlpha=t,this.useAlpha=!0),this.barComponent=t.barComponent,this.quoteComponent=t.quoteComponent,this.barComponentVisible=t.barComponent!==void 0,this.quoteComponentVisible=t.quoteComponent!==void 0})}ngAfterContentInit(){this.initialized=!0,this.notify()}barComponentChanged(t){this.paramsLength.barComponent=t,this.paramsAlpha.barComponent=t,this.paramsLength=o({},this.paramsLength),this.paramsAlpha=o({},this.paramsAlpha),this.notify()}quoteComponentChanged(t){this.paramsLength.quoteComponent=t,this.paramsAlpha.quoteComponent=t,this.paramsLength=o({},this.paramsLength),this.paramsAlpha=o({},this.paramsAlpha),this.notify()}notify(){this.initialized&&(this.useAlpha?this.selectionChange.emit(this.paramsAlpha):this.selectionChange.emit(this.paramsLength))}static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275cmp=x({type:a,selectors:[["mb-kaufman-adaptive-moving-average-params"]],inputs:{initial:[1,"initial"]},outputs:{selectionChange:"selectionChange"},decls:10,vars:7,consts:[["appearance","fill","floatLabel","always",1,"mr",2,"width","6em"],["type","number","matInput","","min","2","max","1024","step","1",3,"ngModelChange","ngModel"],[1,"mr",3,"ngModelChange","color","ngModel"],[1,"mr",3,"initial"],["type","number","matInput","","min","0.001","max","0.999","step","0.001",3,"ngModelChange","ngModel"],[1,"mr",3,"selectionChange","initial"]],template:function(e,n){e&1&&(s(0,"mat-form-field",0)(1,"mat-label"),f(2,"Eff ratio len"),r(),s(3,"input",1),C("ngModelChange",function(h){return c(n.efficiencyRatioLengthParam,h)||(n.efficiencyRatioLengthParam=h),h}),r()(),w(4,N,8,2),s(5,"mat-slide-toggle",2),C("ngModelChange",function(h){return c(n.useAlpha,h)||(n.useAlpha=h),h}),f(6,"Alpha"),r(),w(7,k,8,2)(8,O,1,1,"mb-bar-component",3)(9,Q,1,1,"mb-quote-component",3)),e&2&&(m(3),d("ngModel",n.efficiencyRatioLengthParam),m(),u(n.useAlpha?-1:4),m(),_("color","primary"),d("ngModel",n.useAlpha),m(2),u(n.useAlpha?7:-1),m(),u(n.barComponentVisible?8:-1),m(),u(n.quoteComponentVisible?9:-1))},dependencies:[K,v,q,V,F,E,W,R,B,I,T,D,z],styles:[".mr[_ngcontent-%COMP%]{margin-right:.55em}"],changeDetection:0})}}return a})();export{it as a};
