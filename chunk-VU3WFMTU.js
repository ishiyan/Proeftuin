import{a as Gt,b as jt}from"./chunk-NUU2HELI.js";import"./chunk-NJIOGT5G.js";import{a as Ut}from"./chunk-ACM2AUW5.js";import"./chunk-IVJ3NI5Q.js";import{d as Mt}from"./chunk-DOQDHGM6.js";import"./chunk-NQ2E3PEU.js";import"./chunk-MYDJKILN.js";import"./chunk-DOWKPPU2.js";import"./chunk-URBIVRAC.js";import{d as _t}from"./chunk-X5WVURWV.js";import"./chunk-XMGSTBON.js";import{f as Dt}from"./chunk-EWLX7HQJ.js";import{b as xt,g as Ct,i as kt,j as Et,l as zt,m as Vt,r as Pt}from"./chunk-QRHIHKQC.js";import"./chunk-SSHFWWPL.js";import"./chunk-7VYMNEWB.js";import"./chunk-PDLCQYIG.js";import"./chunk-WZHPCJLM.js";import{a as le}from"./chunk-XNZQSP5G.js";import{a as se}from"./chunk-UZF2YIZM.js";import"./chunk-RYPA5I3Q.js";import"./chunk-7BYBOSES.js";import"./chunk-EKLLQQGP.js";import"./chunk-GZ7HYIGX.js";import"./chunk-IYI4XBIP.js";import{Ba as qt,Ea as Ft,Fa as Lt,Ga as ut,Ia as Ht,Ja as Wt,Ka as Bt,La as Tt,Ma as Nt,Na as Rt,Pa as ht,Qa as Ot,k as It}from"./chunk-KMPZBAPX.js";import"./chunk-HHLKRFKR.js";import{Aa as pt,Gb as gt,Hb as vt,Ib as yt,Jb as A,Kb as x,Lb as Y,Pb as At,Tb as at,ab as W,bc as St,ca as dt,cc as bt,ec as C,gc as wt,ib as mt,jc as et,ka as U,kc as nt,la as G,lc as rt,ma as ft,nb as tt,za as ce,zb as j}from"./chunk-X346Y2AD.js";import{e as V,g as ue}from"./chunk-6NE7JDAX.js";var de=V((Un,he)=>{"use strict";he.exports=function(){var n=function(t,i){return arguments.length<2?t.x:(t.x=i,r)},a=function(t,i){return arguments.length<2?t.y:(t.y=i,r)};function r(t){return r.xv(t)}r.x=function(t){return arguments.length?(n=t,e()):n},r.y=function(t){return arguments.length?(a=t,e()):a};function e(){return r.xv=n,r.yv=a,r}return e()}});var pe=V((Gn,fe)=>{"use strict";fe.exports=function(){var n=function(u){return u.date},a=function(u){return u.open},r=function(u){return u.high},e=function(u){return u.low},t=function(u){return u.close},i=function(u){return u.volume};function o(u){return o.c(u)}o.date=function(u){return arguments.length?(n=u,c()):n},o.open=function(u){return arguments.length?(a=u,c()):a},o.high=function(u){return arguments.length?(r=u,c()):r},o.low=function(u){return arguments.length?(e=u,c()):e},o.close=function(u){return arguments.length?(t=u,c()):t},o.volume=function(u){return arguments.length?(i=u,c()):i};function c(){return o.d=n,o.o=a,o.h=r,o.l=e,o.c=t,o.v=i,o}return c()}});var ge=V((jn,me)=>{"use strict";me.exports=function(){var n=function(o,c){if(arguments.length<2)return o.start.date;o.start.date=c},a=function(o,c){if(arguments.length<2)return o.start.value;o.start.value=c},r=function(o,c){if(arguments.length<2)return o.end.date;o.end.date=c},e=function(o,c){if(arguments.length<2)return o.end.value;o.end.value=c};function t(o){return t.sv(o)}t.startDate=function(o){return arguments.length?(n=o,i()):n},t.startValue=function(o){return arguments.length?(a=o,i()):a},t.endDate=function(o){return arguments.length?(r=o,i()):r},t.endValue=function(o){return arguments.length?(e=o,i()):e};function i(){return t.sd=n,t.sv=a,t.ed=r,t.ev=e,t}return i()}});var ye=V((Yn,ve)=>{"use strict";ve.exports=function(){var n=function(i){return i.date},a=function(i,o){return arguments.length<2?i.value:(i.value=o,e)},r=function(i){return 0};function e(i){return e.v(i)}e.date=function(i){return arguments.length?(n=i,t()):n},e.value=function(i){return arguments.length?(a=i,t()):a},e.zero=function(i){return arguments.length?(r=i,t()):r};function t(){return e.d=n,e.v=a,e.z=r,e}return t()}});var Se=V((Xn,Ae)=>{"use strict";Ae.exports=function(){var n=function(t){return t.date},a=function(t){return t.volume};function r(t){return r.v(t)}r.date=function(t){return arguments.length?(n=t,e()):n},r.volume=function(t){return arguments.length?(a=t,e()):a};function e(){return r.d=n,r.v=a,r}return e()}});var we=V((Qn,be)=>{"use strict";be.exports=function(){var n=function(o){return o.date},a=function(o){return o.high},r=function(o){return o.low},e=function(o){return o.spread};function t(o){i()}t.date=function(o){return arguments.length?(n=o,i()):n},t.high=function(o){return arguments.length?(a=o,i()):a},t.low=function(o){return arguments.length?(r=o,i()):r},t.spread=function(o){return arguments.length?(e=o,i()):e};function i(){return t.d=n,t.h=a,t.l=r,t.s=e,t}return i()}});var xe=V((Jn,Me)=>{"use strict";Me.exports=function(){var n=function(i){return i.date},a=function(i){return i.type},r=function(i){return i.price};function e(i){return e.p(i)}e.date=function(i){return arguments.length?(n=i,t()):n},e.type=function(i){return arguments.length?(a=i,t()):a},e.price=function(i){return arguments.length?(r=i,t()):r};function t(){return e.d=n,e.t=a,e.p=r,e}return t()}});var ke=V((Kn,Ce)=>{"use strict";Ce.exports=function(){var n=function(i){return i.start},a=function(i){return i.end},r=function(i,o){return arguments.length<2?i.value:(i.value=o,e)};function e(i){return e.v(i)}e.start=function(i){return arguments.length?(n=i,t()):n},e.end=function(i){return arguments.length?(a=i,t()):a},e.value=function(i){return arguments.length?(r=i,t()):r};function t(){return e.s=n,e.e=a,e.v=r,e}return t()}});var Yt=V((Zn,Ee)=>{"use strict";Ee.exports=function(){return{crosshair:de(),ohlc:pe(),trendline:ge(),value:ye(),volume:Se(),tick:we(),trade:xe(),supstance:ke()}}});var Ve=V(($n,ze)=>{"use strict";ze.exports=function(){function n(a,r,e,t){t=t!==void 0?t:!0;function i(o){return a.apply(a,arguments)}return i.invert=a.invert,i.domain=function(o){return arguments.length?(t?a.domain([Math.max(e.domain[0],o[0]),Math.min(e.domain[1],o[1])]):a.domain(o),r&&r(),i):a.domain()},i.range=function(o){if(!arguments.length)return a.range();throw"zoomable is a read only range. Use this scale for zooming only"},i.copy=function(){return n(a.copy(),r,e,t)},i.clamp=function(o){return arguments.length?(t=o,i):t},i}return n}});var Xt=V((tr,De)=>{"use strict";De.exports=function(){return{rebindCallback:Pe,rebind:function(n,a){var r=Array.prototype.slice.call(arguments,0);return r.splice(2,0,void 0),Pe.apply(this,r)},functor:function(n){return typeof n=="function"?n:function(){return n}}}};function Pe(n,a,r){for(var e=2,t=arguments.length,i;++e<t;)n[i=arguments[e]]=En(n,a,a[i],r);return n}function En(n,a,r,e){return function(){var t=r.apply(a,arguments);return e&&t===a&&e(),t===a?n:t}}});var Ie=V((er,_e)=>{"use strict";_e.exports=function(n,a,r,e,t,i){function o(b,P,E,D,B,T,J,Q,lt){var st,R={tickFormat:b.daily[b.daily.length-1][2]},K=3;E=E||n(),D=D||[new Date(0),new Date(1)],B=B===void 0?.2:B,T=T===void 0?.65:T,J=J||{domain:E.domain()},Q=Q||!1,lt=lt||i(E,X,J);function L(z,H){var N=st[z instanceof Date?z.getTime():+z];return H=H||0,N===void 0&&(D[0]>z?N=-1:N=r(D,z)),E(N+H)}L.invert=function(z){var H=D[L.invertToIndex(z)];return H||null},L.invertToIndex=function(z){return Math.round(E.invert(z))},L.domain=function(z){if(!arguments.length){var H=E.domain();return H[0]<0&&H[H.length-1]<0?[]:(H=[Math.max(Math.ceil(H[0]),0),Math.min(Math.floor(H[H.length-1]),D.length-1)],D.slice(H[0],H[H.length-1]+1))}return D=z,Jt()};function X(){return K=c(E,D,B),L}function oe(){st=f(D)}function Jt(){return oe(),E.domain([0,D.length-1]),X(),E.domain(E.range().map(t(T,K)).map(E.invert)),J.domain=E.domain(),X()}L.copy=function(){return o(b,P,E.copy(),D,B,T,J,Q)},L.band=function(){return K},L.outerPadding=function(z){return arguments.length?(T=z,Jt()):T},L.padding=function(z){return arguments.length?(B=z,Jt()):B},L.zoomable=function(){return lt},L.ticks=function(z,H){var N=L.domain(),it=E.domain();if(!N.length)return[];var Z=z===void 0?Kt(N,it,10):typeof z=="number"?Kt(N,it,z):null;R.tickFormat=Z?Z[2]:Kt(N,it,10)[2],Z&&(z=Z[0],H=Z[1]);var ot=z.every(H).range(N[0],+N[N.length-1]+1);return ot.map(h(N,Q)).reduce(g,[])};function Kt(z,H,N){if(z.length==1)return P;var it=z[z.length-1]-z[0],Z=it/w<1,ot=Z?b.intraday:b.daily,Zt=Z?l:p,kn=Math.min(Math.round(u(z,H)*N),N),$t=it/kn,$=r(Zt,$t);return $==ot.length?ot[$-1]:$?ot[$t/Zt[$-1]<Zt[$]/$t?$-1:$]:ot[$]}return L.closestTicks=function(z){return arguments.length?(Q=z,L):Q},L.tickFormat=function(){return function(z){return R.tickFormat(z)}},e(L,E,X,"range"),oe(),X()}function c(b,P,E){return Math.abs(b(P.length-1)-b(0))/Math.max(1,P.length-1)*(1-E)}function u(b,P){return b.length/(P[P.length-1]-P[0])}function f(b){var P={};return b.forEach(function(E,D){P[+E]=D}),P}function h(b,P){var E=f(b);return function(D){var B=E[+D];if(B!==void 0)return b[B];var T=r(b,D);return P&&T>0&&+D-+b[T-1]<+b[T]-+D&&T--,b[T]}}function g(b,P){return(b.length===0||b[b.length-1]!==P)&&b.push(P),b}var w=864e5,p=[w,6048e5,2592e6,7776e6,31536e6],l=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5],d=a.timeFormat("%b %e"),v=ct([[a.timeFormat("%b %Y"),function(b){return b.getMonth()}],[a.timeFormat("%Y"),function(){return!0}]]),s=ct([[a.timeFormat(":%S"),function(b){return b.getSeconds()}],[a.timeFormat("%I:%M"),function(b){return b.getMinutes()}],[a.timeFormat("%I %p"),function(){return!0}]]),m=[a.timeSecond,1,ct([[a.timeFormat(":%S"),function(b){return b.getSeconds()}],[a.timeFormat("%I:%M"),function(b){return b.getMinutes()}],[a.timeFormat("%I %p"),function(b){return b.getHours()}],[a.timeFormat("%b %e"),function(){return!0}]])],y=a.utcFormat("%b %e"),S=ct([[a.utcFormat("%b %Y"),function(b){return b.getUTCMonth()}],[a.utcFormat("%Y"),function(){return!0}]]),k=ct([[a.utcFormat(":%S"),function(b){return b.getUTCSeconds()}],[a.utcFormat("%I:%M"),function(b){return b.getUTCMinutes()}],[a.utcFormat("%I %p"),function(){return!0}]]),F=[a.timeSecond,1,ct([[a.utcFormat(":%S"),function(b){return b.getUTCSeconds()}],[a.utcFormat("%I:%M"),function(b){return b.getUTCMinutes()}],[a.utcFormat("%I %p"),function(b){return b.getUTCHours()}],[a.utcFormat("%b %e"),function(){return!0}]])],M=[[a.timeDay,1,d],[a.timeMonday,1,d],[a.timeMonth,1,v],[a.timeMonth,3,v],[a.timeYear,1,v]],_=[[a.timeSecond,1,s],[a.timeSecond,5,s],[a.timeSecond,15,s],[a.timeSecond,30,s],[a.timeMinute,1,s],[a.timeMinute,5,s],[a.timeMinute,15,s],[a.timeMinute,30,s],[a.timeHour,1,s],[a.timeHour,3,s],[a.timeHour,6,s],[a.timeHour,12,s],[a.timeDay,1,d]],I=[[a.utcDay,1,y],[a.utcMonday,1,y],[a.utcMonth,1,S],[a.utcMonth,3,S],[a.utcYear,1,S]],q=[[a.utcSecond,1,k],[a.utcSecond,5,k],[a.utcSecond,15,k],[a.utcSecond,30,k],[a.utcMinute,1,k],[a.utcMinute,5,k],[a.utcMinute,15,k],[a.utcMinute,30,k],[a.utcHour,1,k],[a.utcHour,3,k],[a.utcHour,6,k],[a.utcHour,12,k],[a.utcDay,1,y]];function O(){return o({daily:M,intraday:_},m)}return O.utc=function(){return o({daily:I,intraday:q},F)},O};function ct(n){return function(a){for(var r=0;r<n.length;r++)if(n[r][1](a))return n[r][0](a)}}});var ee=V((nr,qe)=>{"use strict";qe.exports=function(n){var a=Ve()(),r=Xt()(),e=Yt()(),t=Ie()(n.scaleLinear,n,n.bisect,r.rebindCallback,Qt,a);function i(c,u){return u=u||e.ohlc(),n.scaleLinear().domain([n.min(c.map(u.low())),n.max(c.map(u.high()))].map(Qt(.02)))}function o(c,u,f){return u=u||e.value(),f=f===void 0?.02:f,te(n,c,u,f)}return{financetime:t,plot:{candlestick:i,close:o,ohlc:i,percent:function(c,u){var f=c.domain();return u=u||f[0],c.copy().domain([f[0],f[f.length-1]].map(function(h){return(h-u)/u}))},supstance:function(c,u){return u=u||e.supstance(),te(n,c,u.v,.02)},tick:i,time:function(c,u){return u=u||e.value(),t().domain(c.map(u.d))},tradearrow:function(c,u){return u=u||e.trade(),te(n,c,u.p,.02)},trendline:function(c,u){u=u||e.trendline();var f=Vn(c,function(h){return[u.sv(h),u.ev(h)]});return n.scaleLinear().domain(n.extent(f).map(Qt(.04)))},volume:function(c,u){return u=u||e.ohlc().v,n.scaleLinear().domain([0,n.max(c.map(u))*1.15])}}}};function zn(n,a,r,e){return a.length>0?n.extent(a,r).map(Qt(e)):[]}function te(n,a,r,e){return n.scaleLinear().domain(zn(n,a,r,e))}function Qt(n,a){return n=n||0,function(r,e,t){if(t.length>2)throw"array.length > 2 unsupported. array.length = "+t.length;return a=a||t[t.length-1]-t[0],r+(e*2-1)*a*n}}function Vn(n,a){return n.map(a).reduce(function(r,e){return r.concat(e)}).filter(function(r){return r!==null})}});var Le=V((rr,Fe)=>{"use strict";Fe.exports=function(n,a,r,e){var t=function(l){var d,v,s=["data"];function m(y){var S=m.select(y).data(l,d),k=S.enter().append("g").attr("class",w(s," "));return S.exit().remove(),{entry:k,selection:k.merge(S)}}return m.select=function(y){return y.selectAll("g."+w(s,"."))},m.mapper=function(y){return arguments.length?(l=y,m):l},m.scope=function(y){return arguments.length?(v=y,s=["data","scope-"+v],m):v},m.key=function(y){return arguments.length?(d=y,m):d},m};t.mapper={unity:function(l){return l},array:function(l){return[l]}};function i(){var l=n().curve(r);function d(v){return l(v)}return d.init=function(v,s,m,y,S){return l.defined(function(k){return m(k)!==null}).x(function(k){return s(v(k),S===void 0?S:S(k))}).y(function(k){return y(m(k))})},d.d3=function(){return l},d}function o(){var l=a().curve(r);function d(v){return l(v)}return d.init=function(v,s,m,y,S){return l.defined(function(k){return m(k)!==null}).x(function(k){return s(v(k))}).y0(function(k){return y(S)}).y1(function(k){return y(m(k))})},d.d3=function(){return l},d}function c(l){return{up:function(d){return l.o(d)<l.c(d)},down:function(d){return l.o(d)>l.c(d)},equal:function(d){return l.o(d)===l.c(d)}}}function u(l,d,v,s){var m=v instanceof Array?v:[v];s=s||c(d),Object.keys(s).forEach(function(y){h(l,s[y],m,y)})}function f(l,d,v){u(l,d,v,c(d))}function h(l,d,v,s){l.selectAll("path."+w(v,".")+"."+s).data(function(m){return[m.filter(d)]}).enter().append("path").attr("class",w(v," ")+" "+s)}function g(l){return l.band!==void 0?Math.max(l.band(),1):3}function w(l,d){if(l.length){for(var v=l[0],s=1;s<l.length;s++)v+=d+l[s];return v}}function p(){var l=t(),d=[],v=function(S){return S.scale()},s,m;function y(S){var k=l.mapper(function(){return d.map(function(){return[]})})(S);k.selection.each(function(F,M){d[M](e(this))}),y.refresh(S)}return y.refresh=function(S){l.select(S).data(function(k){var F=m(k);if(F==null)return d.map(function(){return[]});var M=s(F);return d.map(function(_){var I=v(_)===s?F:v(_).invert(M);return[{value:I}]})}).each(function(k,F){d[F](e(this))})},y.plots=function(S){return arguments.length?(d=S,y):d},y.scale=function(S){return arguments.length?(s=S,y):s},y.accessor=function(S){return arguments.length?(m=S,y):m},y.scope=function(S){return arguments.length?(l.scope(S),y):l.scope()},y.plotScale=function(S){return arguments.length?(v=S,y):v},y}return{dataSelector:t,appendPathsGroupBy:u,appendPathsUpDownEqual:f,horizontalPathLine:function(l,d,v,s){return function(m){if(!m.length)return null;var y=m[0],S=m[m.length-1];return"M "+d(l(y))+" "+s(v(y))+" L "+d(l(S))+" "+s(v(S))}},pathLine:i,pathArea:o,barWidth:g,scaledStrokeWidth:function(l,d,v){return d=d||1,v=v||1,function(){return Math.min(d,g(l)/v)+"px"}},joinPath:function(l){return function(d){return w(d.map(l())," ")}},interaction:{mousedispatch:function(l){return function(d){return d.on("mouseenter",function(v,s){e(this.parentNode).classed("mouseover",!0),l.call("mouseenter",this,s)}).on("mouseleave",function(v,s){var m=e(this.parentNode);m.classed("dragging")||(m.classed("mouseover",!1),l.call("mouseout",this,s))}).on("mousemove",function(v,s){l.call("mousemove",this,s)})}},dragStartEndDispatch:function(l,d){return l.on("start",function(v,s){e(this.parentNode.parentNode).classed("dragging",!0),d.call("dragstart",this,s)}).on("end",function(v,s){e(this.parentNode.parentNode).classed("dragging",!1),d.call("dragend",this,s)})}},plotComposer:p}}});var We=V((ar,He)=>{"use strict";He.exports=function(n,a,r,e,t){var i=function(o,c){var u={};return u.dataSelector=function(f,h){return c.dataSelector=e(f).key(h),u},u.xScale=function(f){return c.xScale=r(),o.xScale=function(h){return arguments.length?(c.xScale=h,f&&f(),o):c.xScale},u},u.yScale=function(f){return c.yScale=n(),o.yScale=function(h){return arguments.length?(c.yScale=h,f&&f(),o):c.yScale},u},u.accessor=function(f,h){return c.accessor=f,o.accessor=function(g){return arguments.length?(c.accessor=g,h&&h(),o):c.accessor},u},u.width=function(f){return c.width=t,o.width=function(h){return arguments.length?(c.width=a(h),f&&f(),o):c.width},u},u.on=function(f,h){return o.on=function(g,w){return f.on(g,w),h&&h(),o},u},u.plot=function(f,h){return u.xScale(h).yScale(h).accessor(f,h)},u};return i.dataMapper=e.mapper,i}});var Te=V((ir,Be)=>{"use strict";Be.exports=function(n,a,r,e,t){return function(){var i={},o,c,u;function f(p){var l=i.dataSelector(p);e.appendPathsUpDownEqual(l.selection,i.accessor,["candle","body"]),e.appendPathsUpDownEqual(l.selection,i.accessor,["candle","wick"]),f.refresh(p)}f.refresh=function(p){p.selectAll("path.candle.body").attr("d",o),p.selectAll("path.candle.wick").attr("d",c).style("stroke-width",u)};function h(){o=e.joinPath(g),c=e.joinPath(w),u=e.scaledStrokeWidth(i.xScale,1,4)}function g(){var p=i.accessor,l=i.xScale,d=i.yScale,v=i.width(l);return function(s){var m=d(p.o(s)),y=d(p.c(s)),S=l(p.d(s))-v/2,k="M "+S+" "+m+" l "+v+" 0";return m!=y&&(k+=" L "+(S+v)+" "+y+" l "+-v+" 0 L "+S+" "+m),k}}function w(){var p=i.accessor,l=i.xScale,d=i.yScale,v=i.width(l);return function(s){var m=d(p.o(s)),y=d(p.c(s)),S=l(p.d(s)),k=S-v/2,F="M "+S+" "+d(p.h(s))+" L "+S+" "+Math.min(m,y);return m==y&&(F+=" M "+k+" "+m+" l "+v+" 0"),F+" M "+S+" "+Math.max(m,y)+" L "+S+" "+d(p.l(s))}}return t(f,i).plot(r(),h).width(h).dataSelector(t.dataMapper.array),h(),f}}});var Re=V((or,Ne)=>{"use strict";Ne.exports=function(n,a,r,e){return e=e||!1,function(){var t={},i=a.pathLine();function o(u){var f=t.dataSelector(u);f.entry.append("path").attr("class","line"),e&&f.selection.append("path").attr("class","zero"),o.refresh(u)}o.refresh=function(u){Pn(t.dataSelector.select(u),t.accessor,t.xScale,t.yScale,a,i,e)};function c(){i.init(t.accessor.d,t.xScale,t.accessor,t.yScale)}return r(o,t).plot(n(),c).dataSelector(r.dataMapper.array),c(),o}};function Pn(n,a,r,e,t,i,o){n.select("path.line").attr("d",i),o&&n.select("path.zero").attr("d",t.horizontalPathLine(a.d,r,a.z,e))}});var Ge=V((ur,Ue)=>{"use strict";Ue.exports=function(n,a,r,e,t){return function(){var i={},o=n(a()),c,u=4,f=14,h=50,g=[0,0],w="bottom";function p(l){var d=i.dataSelector.mapper(_n(i.accessor,o.scale()))(l);d.entry.append("path"),d.entry.append("text"),p.refresh(l)}return p.refresh=function(l){var d=c||(o.tickFormat()?o.tickFormat():o.scale().tickFormat());Dn(i.dataSelector.select(l),i.accessor,o,w,d,f,h,u,g)},p.axis=function(l){return arguments.length?(o=l,p):o},p.orient=function(l){return arguments.length?(w=l,p):w},p.format=function(l){return arguments.length?(c=l,p):c},p.height=function(l){return arguments.length?(f=l,p):f},p.width=function(l){return arguments.length?(h=l,p):h},p.translate=function(l){return arguments.length?(g=l,p):g},t(p,i).accessor(r()).dataSelector(),p}};function Dn(n,a,r,e,t,i,o,c,u){var f=e==="left"||e==="top"?-1:1;n.attr("transform","translate("+u[0]+","+u[1]+")"),n.select("path").attr("d",Fn(a,r,e,i,o,c,f)),n.select("text").text(qn(a,t)).call(In,a,r,e,f)}function _n(n,a){return function(r){var e=a.range(),t=e[0],i=e[e.length-1];return e=t<i?[t,i]:[i,t],r.filter(function(o){if(n(o)===null||n(o)===void 0)return!1;var c=a(n(o));return c!==null&&!isNaN(c)&&e[0]<=c&&c<=e[1]})}}function In(n,a,r,e,t){var i=r.scale();switch(e){case"left":case"right":n.attr("x",t*(Math.max(r.tickSizeInner(),0)+r.tickPadding())).attr("y",Oe(a,i)).attr("dy",".32em").style("text-anchor",t<0?"end":"start");break;case"top":case"bottom":n.attr("x",Oe(a,i)).attr("y",t*(Math.max(r.tickSizeInner(),0)+r.tickPadding())).attr("dy",t<0?"0em":".72em").style("text-anchor","middle");break}}function Oe(n,a){return function(r){return a(n(r))}}function qn(n,a){return function(r){return a(n(r))}}function Fn(n,a,r,e,t,i,o){return function(c){var u=a.scale(),f=u(n(c)),h=i;switch(r){case"left":case"right":var g=0;return e/2<i?h=e/2:g=e/2-i,"M 0 "+f+" l "+o*Math.max(a.tickSizeInner(),1)+" "+-h+" l 0 "+-g+" l "+o*t+" 0 l 0 "+e+" l "+o*-t+" 0 l 0 "+-g;case"top":case"bottom":var w=0;return t/2<i?h=t/2:w=t/2-i,"M "+f+" 0 l "+-h+" "+o*Math.max(a.tickSizeInner(),1)+" l "+-w+" 0 l 0 "+o*e+" l "+t+" 0 l 0 "+o*-e+" l "+-w+" 0";default:throw"Unsupported orient value: axisannotation.orient("+r+"). Set to one of: 'top', 'bottom', 'left', 'right'"}}}});var Ye=V((cr,je)=>{"use strict";je.exports=function(n){return function(){var a=n(0),r=n(0),e=n(12),t=n(15),i=n("up"),o=n(!0);function c(u,f){var h,g=a(u,f),w=r(u,f),p=e(u,f),l=t(u,f),d=i(u,f),v=o(u,f),s=d==="left"||d==="up"?1:-1,m=p/3,y=p/2,S=v?l/2:l;switch(h="M "+g+" "+w,d){case"up":case"down":h+=" l "+-y+" "+s*S+" l "+m+" 0",v&&(h+=" l 0 "+s*S),h+=" l "+m+" 0",v&&(h+=" l 0 "+-s*S),h+=" l "+m+" 0";break;case"left":case"right":h+=" l "+s*S+" "+-y+" l 0 "+m,v&&(h+=" l "+s*S+" 0"),h+=" l 0 "+m,v&&(h+=" l "+-s*S+" 0"),h+=" l 0 "+m;break;default:throw"Unsupported arrow.orient() = "+i}return h+" z"}return c.x=function(u){return arguments.length?(a=n(u),c):a},c.y=function(u){return arguments.length?(r=n(u),c):r},c.height=function(u){return arguments.length?(t=n(u),c):t},c.width=function(u){return arguments.length?(e=n(u),c):e},c.orient=function(u){return arguments.length?(i=n(u),c):i},c.tail=function(u){return arguments.length?(o=n(u),c):o},c}}});var ne=V((lr,Xe)=>{"use strict";Xe.exports=function(n){return{arrow:Ye()(Xt()().functor)}}});var Je=V((sr,Qe)=>{"use strict";Qe.exports=function(n,a,r,e,t,i){return function(){var o={},c=r("enter","out","move"),u,f,h=t.plotComposer().scope("composed-annotation").plotScale(function(M){return M.axis().scale()}),g=t.plotComposer().scope("composed-annotation").plotScale(function(M){return M.axis().scale()}),w,p;function l(M){var _=o.dataSelector(M);_.entry.append("path").attr("class","horizontal wire"),_.entry.append("path").attr("class","vertical wire"),_.entry.append("g").attr("class","axisannotation x").call(h),_.entry.append("g").attr("class","axisannotation y").call(g),M.selectAll("rect").data([void 0]).enter().append("rect").style("fill","none").style("pointer-events","all"),l.refresh(M)}l.refresh=function(M){var _=o.xScale.range(),I=o.yScale.range(),q=o.dataSelector.select(M),O=q.select("path.vertical"),b=q.select("path.horizontal"),P=q.select("g.axisannotation.x"),E=q.select("g.axisannotation.y");u=y(),f=m(),M.selectAll("rect").attr("x",Math.min.apply(null,_)).attr("y",Math.min.apply(null,I)).attr("height",Math.abs(I[I.length-1]-I[0])).attr("width",Math.abs(_[_.length-1]-_[0])).on("mouseenter",function(D){c.call("enter",this)}).on("mouseout",function(D){c.call("out",this),delete q.node().__coord__,S(q.datum()),v(q,O,b,P,E)}).on("mousemove",d(q,O,b,P,E)),v(q,O,b,P,E)};function d(M,_,I,q,O){return function(b){M.node().__coord__=a(b),v(M,_,I,q,O)}}function v(M,_,I,q,O){var b=M.node().__coord__;if(b!==void 0){var P=M.datum(),E=o.xScale.invert(b[0]),D=o.yScale.invert(b[1]),B=E!==null&&D!==null&&(o.accessor.xv(P)!==E||o.accessor.yv(P)!==D);o.accessor.xv(P,E),o.accessor.yv(P,D),B&&c.call("move",M.node(),P)}_.attr("d",u),I.attr("d",f),q.call(h.refresh),O.call(g.refresh),M.attr("display",F)}l.xAnnotation=function(M){return arguments.length?(h.plots(M instanceof Array?M:[M]),s()):h.plots()},l.yAnnotation=function(M){return arguments.length?(g.plots(M instanceof Array?M:[M]),s()):g.plots()},l.verticalWireRange=function(M){return arguments.length?(w=M,s()):w},l.horizontalWireRange=function(M){return arguments.length?(p=M,s()):p};function s(){return h.accessor(o.accessor.xv).scale(o.xScale),g.accessor(o.accessor.yv).scale(o.yScale),l}function m(){var M=p||o.xScale.range();return function(_){if(o.accessor.yv(_)===null)return null;var I=o.yScale(o.accessor.yv(_));return isNaN(I)?null:"M "+M[0]+" "+I+" L "+M[M.length-1]+" "+I}}function y(){var M=w||o.yScale.range();return function(_){if(o.accessor.xv(_)===null)return null;var I=o.xScale(o.accessor.xv(_)),q=o.xScale.range();return I<Math.min(q[0],q[q.length-1])||I>Math.max(q[0],q[q.length-1])?null:"M "+I+" "+M[0]+" L "+I+" "+M[M.length-1]}}function S(M){return M=M||{},o.accessor.xv(M,null),o.accessor.yv(M,null),M}function k(M){return M===void 0||o.accessor.xv(M)===null||o.accessor.yv(M)===null}function F(M){return k(M)?"none":null}return i(l,o).plot(e(),s).dataSelector(function(M){return k(M)?[S()]:[M]}).on(c),o.dataSelector.scope("crosshair"),s()}}});var Ze=V((hr,Ke)=>{"use strict";Ke.exports=function(n,a,r,e,t){return function(){var i={},o,c;function u(g){e.appendPathsUpDownEqual(i.dataSelector(g).selection,i.accessor,"ohlc"),u.refresh(g)}u.refresh=function(g){g.selectAll("path.ohlc").attr("d",o).style("stroke-width",c)};function f(){o=e.joinPath(h),c=e.scaledStrokeWidth(i.xScale,1,2)}function h(){var g=i.accessor,w=i.xScale,p=i.yScale,l=i.width(w);return function(d){var v=p(g.o(d)),s=p(g.c(d)),m=w(g.d(d)),y=m-l/2;return"M "+y+" "+v+" l "+l/2+" 0 M "+m+" "+p(g.h(d))+" L "+m+" "+p(g.l(d))+" M "+m+" "+s+" l "+l/2+" 0"}}return t(u,i).plot(r(),f).width(f).dataSelector(t.dataMapper.array),f(),u}}});var nn=V((dr,en)=>{"use strict";en.exports=function(n,a,r,e,t,i){function o(){var u={},f=r("mouseenter","mouseout","mousemove","drag","dragstart","dragend"),h=t.plotComposer().scope("composed-annotation").plotScale(function(p){return p.axis().scale()});function g(p){var l=u.dataSelector(p);l.entry.append("g").attr("class","supstance").append("path"),l.entry.append("g").attr("class","axisannotation y").call(h);var d=l.entry.append("g").attr("class","interaction").style("opacity",0).style("fill","none").call(t.interaction.mousedispatch(f));d.append("path").style("stroke-width","16px"),g.refresh(p)}g.refresh=function(p){$e(u.dataSelector.select(p),u.accessor,u.xScale,u.yScale,h)},g.drag=function(p){p.selectAll(".interaction path").call(c(f,u.accessor,u.xScale,u.yScale,h))},g.annotation=function(p){return arguments.length?(h.plots(p instanceof Array?p:[p]),g):h.plots()};function w(){return h.accessor(u.accessor.v).scale(u.yScale),g}return i(g,u).dataSelector(i.dataMapper.unity).plot(e(),w).on(f),u.dataSelector.scope("supstance"),w()}function c(u,f,h,g,w){var p=n().subject(function(l){return{x:0,y:g(f(l))}}).on("drag",function(l,d){var v=g.invert(l.y),s=a(this.parentNode.parentNode);f.v(d,v),$e(s,f,h,g,w),u.call("drag",this,d)});return t.interaction.dragStartEndDispatch(p,u)}return o};function $e(n,a,r,e,t){n.select(".supstance path").attr("d",tn(a,r,e)),n.select(".interaction path").attr("d",tn(a,r,e)),n.select(".axisannotation.y").call(t.refresh)}function tn(n,a,r){return function(e){var t;return Ln(n)?(t=[n.s(e),n.e(e)],t[0]=t[0]!==void 0?a(t[0]):a.range()[0],t[1]=t[1]!==void 0?a(t[1]):a.range()[1]):t=a.range(),"M "+t[0]+" "+r(n(e))+" L "+t[t.length-1]+" "+r(n(e))}}function Ln(n){return n.s!==void 0&&n.e!==void 0}});var an=V((fr,rn)=>{"use strict";rn.exports=function(n,a,r,e,t){return function(){var i={},o,c;function u(g){i.dataSelector(g).entry.append("path").attr("class","tick"),u.refresh(g)}u.refresh=function(g){i.dataSelector.select(g).select("path.tick").attr("d",o).style("stroke-width",c)};function f(){o=e.joinPath(h),c=e.scaledStrokeWidth(i.xScale,1,2)}function h(){var g=i.accessor,w=i.xScale,p=i.yScale,l=i.width(w);return function(d){var v=p(g.h(d)),s=p(g.l(d)),m=w(g.d(d)),y=m-l/2;return"M "+y+" "+v+" l "+l+" 0 M "+m+" "+v+" L "+m+" "+s+" M "+y+" "+s+" l "+l+" 0"}}return t(u,i).plot(r(),f).width(f).dataSelector(t.dataMapper.array),f(),u}}});var un=V((pr,on)=>{"use strict";on.exports=function(n,a,r,e,t,i,o,c){return function(){var u={},f=e("mouseenter","mouseout"),h=function(s){return u.yScale(u.accessor.p(s))},g=c().orient(function(s){return u.accessor.t(s)==="buy"?"up":"down"}),w;function p(s){var m=u.dataSelector(s),y=v(s.datum());i.appendPathsGroupBy(m.selection,u.accessor,"tradearrow",y),m.entry.append("path").attr("class","highlight").style("pointer-events","none"),m.selection.selectAll("path.tradearrow").on("mouseenter",function(S,k){var F=d(k,r(S)[0]);n(this.parentNode).select("path.highlight").datum(F.d).attr("d",g).call(Hn,y),f.call("mouseenter",this,F.d,F.i)}).on("mouseout",function(S,k){n(this.parentNode).selectAll("path.highlight").datum([]).attr("d",null).attr("class","highlight");var F=d(k,r(S)[0]);f.call("mouseout",this,F.d,F.i)}),p.refresh(s)}p.refresh=function(s){s.selectAll("path.tradearrow").attr("d",w)},p.orient=function(s){return arguments.length?(g.orient(s),l()):g.orient()},p.y=function(s){return arguments.length?(h=a(s),l()):h},p.arrow=function(){return g};function l(){return g.x(function(s){return u.xScale(u.accessor.d(s))}).y(h),w=i.joinPath(function(){return g}),p}function d(s,m){return s.map(function(y,S){return{d:y,i:S,x:u.xScale(u.accessor.d(y))}}).reduce(function(y,S){return Math.abs(y.x-m)<Math.abs(S.x-m)?y:S})}function v(s){return s.map(function(m){return u.accessor.t(m)}).reduce(function(m,y){return m[y]===void 0&&(m[y]=function(S){return y===u.accessor.t(S)}),m},{})}return o(p,u).plot(t(),l).on(f).dataSelector(o.dataMapper.array),l(),p}};function Hn(n,a){Object.keys(a).forEach(function(r){n.classed(r,a[r])})}});var hn=V((mr,sn)=>{"use strict";sn.exports=function(n,a,r,e,t,i){function o(){var h={},g=r("mouseenter","mouseout","mousemove","drag","dragstart","dragend");function w(p){var l=h.dataSelector(p),d=l.entry.append("g").attr("class","trendline");d.append("path").attr("class","body"),d.append("circle").attr("class","start").attr("r",1),d.append("circle").attr("class","end").attr("r",1);var v=l.entry.append("g").attr("class","interaction").style("opacity",0).style("fill","none").call(t.interaction.mousedispatch(g));v.append("path").attr("class","body").style("stroke-width","16px"),v.append("circle").attr("class","start").attr("r",8),v.append("circle").attr("class","end").attr("r",8),w.refresh(p)}return w.refresh=function(p){re(h.dataSelector.select(p),h.accessor,h.xScale,h.yScale)},w.drag=function(p){p.selectAll(".interaction circle.start").call(c(g,h.accessor,h.accessor.sd,h.xScale,h.accessor.sv,h.yScale)),p.selectAll(".interaction circle.end").call(c(g,h.accessor,h.accessor.ed,h.xScale,h.accessor.ev,h.yScale)),p.selectAll(".interaction path.body").call(u(g,h.accessor,h.xScale,h.yScale))},i(w,h).dataSelector(i.dataMapper.unity).plot(e()).on(g),w}function c(h,g,w,p,l,d){var v=n();return v.subject(function(s,m){return{x:p(w(m)),y:d(l(m))}}).on("drag",function(s,m){f(w,p,s.x,l,d,s.y,m),re(a(this.parentNode.parentNode.parentNode),g,p,d),h.call("drag",this,m)}),t.interaction.dragStartEndDispatch(v,h)}function u(h,g,w,p){var l={},d=n();return d.subject(function(v,s){return l.start={date:w(g.sd(s)),value:p(g.sv(s))},l.end={date:w(g.ed(s)),value:p(g.ev(s))},{x:0,y:0}}).on("drag",function(v,s){f(g.sd,w,v.x+l.start.date,g.sv,p,v.y+l.start.value,s),f(g.ed,w,v.x+l.end.date,g.ev,p,v.y+l.end.value,s),re(a(this.parentNode.parentNode.parentNode),g,w,p),h.call("drag",this,s)}),t.interaction.dragStartEndDispatch(d,h)}function f(h,g,w,p,l,d,v){var s=g.invert(w);s!=null&&h(v,s),p(v,l.invert(d))}return o};function re(n,a,r,e){n.selectAll("path.body").attr("d",Wn(a,r,e)),n.selectAll("circle.start").attr("cx",cn(a.sd,r)).attr("cy",ln(a.sv,e)),n.selectAll("circle.end").attr("cx",cn(a.ed,r)).attr("cy",ln(a.ev,e))}function Wn(n,a,r){return function(e){return"M "+a(n.sd(e))+" "+r(n.sv(e))+" L "+a(n.ed(e))+" "+r(n.ev(e))}}function cn(n,a){return function(r){return a(n(r))}}function ln(n,a){return function(r){return a(n(r))}}});var fn=V((gr,dn)=>{"use strict";dn.exports=function(n,a,r){return function(){var e={},t;function i(f){var h=e.dataSelector(f);c()?a.appendPathsUpDownEqual(h.selection,e.accessor,"volume"):h.entry.append("path").attr("class","volume"),i.refresh(f)}i.refresh=function(f){c()?f.selectAll("path.volume").attr("d",t):e.dataSelector.select(f).select("path.volume").attr("d",t)};function o(){t=a.joinPath(u)}function c(){return e.accessor.o&&e.accessor.c}function u(){var f=e.accessor,h=e.xScale,g=e.yScale,w=e.width(h);return function(p){var l=f.v(p);if(isNaN(l))return null;var d=g(0),v=g(l)-d,s=h(f.d(p))-w/2;return"M "+s+" "+d+" l 0 "+v+" l "+w+" 0 l 0 "+-v}}return r(i,e).plot(n(),o).width(o).dataSelector(r.dataMapper.array),o(),i}}});var mn=V((vr,pn)=>{"use strict";pn.exports=function(n){var a=ee()(n),r=Yt()(),e=Le()(n.line,n.area,n.curveMonotoneX,n.select),t=Xt()().functor,i=We()(n.scaleLinear,t,a.financetime,e.dataSelector,e.barWidth),o=Te()(n.scaleLinear,n.extent,r.ohlc,e,i),c=Re(),u=Ge()(n.axisTop,n.scaleLinear,r.value,e,i),f=ne()(n);return{axisannotation:u,candlestick:o,close:c(r.ohlc,e,i),crosshair:Je()(n.select,n.pointer,n.dispatch,r.crosshair,e,i),ohlc:Ze()(n.scaleLinear,n.extent,r.ohlc,e,i),supstance:nn()(n.drag,n.select,n.dispatch,r.supstance,e,i),tick:an()(n.scaleLinear,n.extent,r.tick,e,i),tradearrow:un()(n.select,t,n.pointer,n.dispatch,r.trade,e,i,f.arrow),trendline:hn()(n.drag,n.select,n.dispatch,r.trendline,e,i),volume:fn()(r.volume,e,i)}}});var vn=V((yr,gn)=>{"use strict";gn.exports=function(n){let a=function(e,t){if(typeof e=="number"||typeof e=="object"&&e.constructor===Number)return+e;let i=e.length,o=e.match(/\d+/);return e.endsWith("%")?+o/100*t:+o};return{convertLayout:function(e,t){let i={totalWidth:0,totalHeight:0,left:e.margin.left,width:a(e.width,t)-e.margin.left-e.margin.right,chart:{top:e.margin.top}},o=i.width;i.totalWidth=o+e.margin.left+e.margin.right;let c=a(e.heightChart,o);i.chart.height=c;let u=i.chart.top+c;if(e.heightIndicatorPanes&&e.heightIndicatorPanes.length>0){let f=e.heightIndicatorPanes.length;i.indicatorPanes=[];for(let h=0;h<f;++h){c=a(e.heightIndicatorPanes[h],o);let g={};g.top=u,g.height=c,i.indicatorPanes.push(g),u+=c}}return e.heightNavigation&&(i.navigation={top:u,height:a(e.heightNavigation,o)},u+=i.navigation.height),u+=e.margin.bottom,i.totalHeight=u,i}}}});var An=V((Ar,yn)=>{"use strict";yn.exports=function(n){function a(){var c=1,u="mirror",f=n.curveLinear,h,g=t,w=i,p=960,l=40,d=0,v=n.scaleLinear().domain([-1,0,0,1]).range(["#08519c","#bdd7e7","#bae4b3","#006d2c"]);function s(m){m.each(function(y,S){var k=n.select(this),F=2*c+1,M=1/0,_=-1/0,I=-1/0,q,O,b,P=y.map(function(R,K){var L=g.call(this,R,K),X=w.call(this,R,K);return L<M&&(M=L),L>_&&(_=L),-X>I&&(I=-X),X>I&&(I=X),[L,X]}),E=n.scaleLinear().domain([M,_]).range([0,p]),D=n.scaleLinear().domain([0,I]).range([0,l*c]),B=o(c,l,u),T;this.__chart__?(q=this.__chart__.x,O=this.__chart__.y,T=this.__chart__.t,b=this.__chart__.id):(q=E.copy(),O=D.copy(),T=B,b=++e);var J=k.selectAll("defs").data([null]);J.enter().append("defs").append("clipPath").attr("id","d3tc_horizon_clip_"+b).append("rect").attr("width",p).attr("height",l),J.select("rect").transition().duration(d).attr("width",p).attr("height",l),k.selectAll("g").data([null]).enter().append("g").attr("clip-path","url(#d3tc_horizon_clip_"+b+")");var Q=k.select("g").selectAll("path").data(n.range(-1,-c-1,-1).concat(n.range(1,c+1)),Number);h&&r.defined(function(R,K){return h(R,K)});var lt=r.curve(f).x(function(R){return q(R[0])}).y0(l*c).y1(function(R){return l*c-O(R[1])})(P),st=r.x(function(R){return E(R[0])}).y1(function(R){return l*c-D(R[1])})(P);Q.enter().append("path").style("fill",v).attr("transform",T).attr("d",lt),Q.transition().duration(d).style("fill",v).attr("transform",B).attr("d",st),Q.exit().transition().duration(d).attr("transform",B).attr("d",st).remove(),this.__chart__={x:E,y:D,t:B,id:b}}),n.timerFlush()}return s.duration=function(m){return arguments.length?(d=+m,s):d},s.bands=function(m){return arguments.length?(c=+m,v.domain([-c,0,0,c]),s):c},s.mode=function(m){return arguments.length?(u=m+"",s):u},s.colors=function(m){return arguments.length?(v.range(m),s):v.range()},s.interpolate=function(m){return arguments.length?(f=m,s):f},s.x=function(m){return arguments.length?(g=m,s):g},s.y=function(m){return arguments.length?(w=m,s):w},s.width=function(m){return arguments.length?(p=+m,s):p},s.height=function(m){return arguments.length?(l=+m,s):l},s.defined=function(m){return arguments.length?(h=m,s):h},s}var r=n.area(),e=0;function t(c){return c[0]}function i(c){return c[1]}function o(c,u,f){return f=="offset"?function(h){return"translate(0,"+(h+(h<0?1:0)-c)*u+")"}:function(h){return(h<0?"scale(1,-1)":"")+"translate(0,"+(h-c)*u+")"}}return a}});var ae=V((Sr,Sn)=>{"use strict";Ot();Sn.exports=function(n){return{accessor:Yt()(),plot:mn()(n),scale:ee()(n),svg:ne()(n),csch:vn()(n),horizonChart:An()(n)}}(ht)});Ot();var bn=ue(ae());var Tn=["container"];function Nn(n,a){if(n&1&&(A(0,"mat-option",7),C(1),x()),n&2){let r=a.$implicit;j("value",r.value),W(),wt(" ",r.viewValue," ")}}var wn=(()=>{class n{constructor(){this.element=dt(pt),this.container=mt.required("container"),this.svgheight=ce(),this.bands=1,this.mode="mirror",this.interpolations=[{value:qt,viewValue:"d3.curveLinear"},{value:Tt,viewValue:"d3.curveStep"},{value:Nt,viewValue:"d3.curveStepBefore"},{value:Rt,viewValue:"d3.curveStepAfter"},{value:Ft,viewValue:"d3.curveBasis"},{value:ut,viewValue:"d3.curveCatmullRom"},{value:Lt,viewValue:"d3.curveCardinal"},{value:Bt,viewValue:"d3.curveNatural"},{value:Ht,viewValue:"d3.curveMonotoneX"},{value:Wt,viewValue:"d3.curveMonotoneY"}],this.interpolation=this.interpolations[0].value,this.colors=[["#08519c","#bdd7e7","#bae4b3","#006d2c"],["#4575b4","#e0f3f8","#fee090","#d73027"],["#e06c4c","#f5d2ca","#c0e2f0","#1da4d1"],["#313695","#abd9e9","#fee090","#d73027"],["#5e4fa2","#e6f598","#fee08b","#9e0142"],["#551b01","#f89d97","#c8ffd4","#014e1f"]],this.color=this.colors[0]}ngOnInit(){let r=se,e=this.container().nativeElement.getBoundingClientRect().width,t={left:12,right:12},i=e-t.left-t.right;this.height=this.svgheight(),this.svg=It(this.element.nativeElement).select("svg").attr("width",i).attr("height",this.height).append("g");let o=r.map(u=>u.close).reduce((u,f)=>u+f,0)/r.length,c=r.map(u=>[u.time,u.close?u.close-o:null]);this.chart=bn.horizonChart().width(i).height(this.height/this.bands).bands(this.bands).mode(this.mode).interpolate(this.interpolation).colors(this.color).defined(u=>u[1]),this.svg.data([c]).call(this.chart)}bandsChanged(r){let e=Math.max(1,+r);this.svg.call(this.chart.duration(500).height(this.height/e).bands(e))}modeChanged(r){this.svg.call(this.chart.duration(500).mode(r.value))}interpolationChanged(r){this.svg.call(this.chart.duration(500).interpolate(r.value))}colorChanged(r){this.svg.call(this.chart.duration(500).colors(this.colors[+r.value]))}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=tt({type:n,selectors:[["app-d3-sample-d3tc-horizon-chart-interactive"]],viewQuery:function(e,t){e&1&&St(t.container,Tn,5),e&2&&bt()},inputs:{svgheight:[1,"svgheight"]},decls:75,vars:3,consts:[["container",""],[1,"container"],[1,"ml12px"],["placeholder","mode",3,"ngModelChange","selectionChange","ngModel"],["value","mirror","selected",""],["value","offset"],["placeholder","interpolation",3,"ngModelChange","selectionChange","ngModel"],[3,"value"],["matInput","","type","number","min","1","max","10","step","1","placeholder","bands",3,"ngModelChange","ngModel"],[3,"change"],[1,"label","ml12px"],["value","0","checked","",1,"ml12px"],[2,"background","#08519c"],[2,"background","#bdd7e7"],[2,"background","#bae4b3"],[2,"background","#006d2c"],["value","1",1,"ml12px"],[2,"background","#4575b4"],[2,"background","#e0f3f8"],[2,"background","#fee090"],[2,"background","#d73027"],["value","2",1,"ml12px"],[2,"background","#e06c4c"],[2,"background","#f5d2ca"],[2,"background","#c0e2f0"],[2,"background","#1da4d1"],["value","3",1,"ml12px"],[2,"background","#313695"],[2,"background","#abd9e9"],["value","4",1,"ml12px"],[2,"background","#5e4fa2"],[2,"background","#e6f598"],[2,"background","#fee08b"],[2,"background","#9e0142"],["value","5",1,"ml12px"],[2,"background","#551b01"],[2,"background","#f89d97"],[2,"background","#c8ffd4"],[2,"background","#014e1f"],[1,"mlr12px"]],template:function(e,t){if(e&1){let i=At();Y(0,"div",1,0),A(2,"mat-form-field",2)(3,"mat-select",3),rt("ngModelChange",function(c){return U(i),nt(t.mode,c)||(t.mode=c),G(c)}),at("selectionChange",function(c){return U(i),G(t.modeChanged(c))}),A(4,"mat-option",4),C(5,"mirror"),x(),A(6,"mat-option",5),C(7,"offset"),x()()(),A(8,"mat-form-field",2)(9,"mat-select",6),rt("ngModelChange",function(c){return U(i),nt(t.interpolation,c)||(t.interpolation=c),G(c)}),at("selectionChange",function(c){return U(i),G(t.interpolationChanged(c))}),vt(10,Nn,2,2,"mat-option",7,gt),x()(),A(12,"mat-form-field",2)(13,"input",8),rt("ngModelChange",function(c){return U(i),nt(t.bands,c)||(t.bands=c),G(c)}),at("ngModelChange",function(c){return U(i),G(t.bandsChanged(c))}),x()(),Y(14,"br"),A(15,"mat-radio-group",9),at("change",function(c){return U(i),G(t.colorChanged(c))}),A(16,"label",10),C(17,"colors:"),x(),A(18,"mat-radio-button",11)(19,"span",12),C(20,"\xA0\xA0\xA0\xA0"),x(),A(21,"span",13),C(22,"\xA0\xA0\xA0\xA0"),x(),A(23,"span",14),C(24,"\xA0\xA0\xA0\xA0"),x(),A(25,"span",15),C(26,"\xA0\xA0\xA0\xA0"),x()(),A(27,"mat-radio-button",16)(28,"span",17),C(29,"\xA0\xA0\xA0\xA0"),x(),A(30,"span",18),C(31,"\xA0\xA0\xA0\xA0"),x(),A(32,"span",19),C(33,"\xA0\xA0\xA0\xA0"),x(),A(34,"span",20),C(35,"\xA0\xA0\xA0\xA0"),x()(),A(36,"mat-radio-button",21)(37,"span",22),C(38,"\xA0\xA0\xA0\xA0"),x(),A(39,"span",23),C(40,"\xA0\xA0\xA0\xA0"),x(),A(41,"span",24),C(42,"\xA0\xA0\xA0\xA0"),x(),A(43,"span",25),C(44,"\xA0\xA0\xA0\xA0"),x()(),A(45,"mat-radio-button",26)(46,"span",27),C(47,"\xA0\xA0\xA0\xA0"),x(),A(48,"span",28),C(49,"\xA0\xA0\xA0\xA0"),x(),A(50,"span",19),C(51,"\xA0\xA0\xA0\xA0"),x(),A(52,"span",20),C(53,"\xA0\xA0\xA0\xA0"),x()(),A(54,"mat-radio-button",29)(55,"span",30),C(56,"\xA0\xA0\xA0\xA0"),x(),A(57,"span",31),C(58,"\xA0\xA0\xA0\xA0"),x(),A(59,"span",32),C(60,"\xA0\xA0\xA0\xA0"),x(),A(61,"span",33),C(62,"\xA0\xA0\xA0\xA0"),x()(),A(63,"mat-radio-button",34)(64,"span",35),C(65,"\xA0\xA0\xA0\xA0"),x(),A(66,"span",36),C(67,"\xA0\xA0\xA0\xA0"),x(),A(68,"span",37),C(69,"\xA0\xA0\xA0\xA0"),x(),A(70,"span",38),C(71,"\xA0\xA0\xA0\xA0"),x()()(),Y(72,"br")(73,"br"),ft(),Y(74,"svg",39)}e&2&&(W(3),et("ngModel",t.mode),W(6),et("ngModel",t.interpolation),W(),yt(t.interpolations),W(3),et("ngModel",t.bands))},dependencies:[Dt,Ut,Pt,xt,Et,Ct,Vt,zt,kt,Mt,_t,Gt,jt],styles:["#horizon-bands[_ngcontent-%COMP%]{float:right}.label[_ngcontent-%COMP%]{vertical-align:middle}.ml12px[_ngcontent-%COMP%]{margin-left:12px}.mlr12px[_ngcontent-%COMP%]{margin-left:12px;margin-right:12px}.container[_ngcontent-%COMP%]{padding:12px}"]})}}return n})();Ot();Ot();var Mn=ue(ae());var xn=(()=>{class n{constructor(){this.element=dt(pt),this.theWidth=700,this.theHeight=40,this.theBands=3,this.theMode="mirror",this.theInterpolation=ut,this.theColors=["#08519c","#bdd7e7","#bae4b3","#006d2c"]}set width(r){this.theWidth=r,this.svg&&(this.svg.attr("width",r),this.g.call(this.chart.duration(0).width(r)))}set height(r){this.theHeight=r,this.svg&&(this.svg.attr("height",r),this.g.call(this.chart.duration(0).height(r)))}set bands(r){this.theBands=r,this.g&&this.g.call(this.chart.duration(0).bands(r))}set mode(r){this.theMode=r,this.g&&this.g.call(this.chart.duration(500).mode(r))}set colors(r){this.theColors=r,this.g&&this.g.call(this.chart.duration(500).colors(r))}set interpolation(r){this.theInterpolation=r,this.g&&this.g.call(this.chart.duration(500).interpolate(r))}set data(r){let e=r.map(t=>t.close).reduce((t,i)=>t+i,0)/r.length;this.horizonData=r.map(t=>[t.time,t.close?t.close-e:null]),this.g&&this.g.data([this.horizonData]).call(this.chart)}ngOnInit(){this.svg=It(this.element.nativeElement).select("svg").attr("width",this.theWidth).attr("height",this.theHeight),this.g=this.svg.append("g"),this.chart=Mn.horizonChart().width(this.theWidth).height(this.theHeight).bands(this.theBands).mode(this.theMode).colors(this.theColors).interpolate(this.theInterpolation).defined(r=>r[1]),this.g.data([this.horizonData]).call(this.chart)}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=tt({type:n,selectors:[["app-d3-sample-d3tc-horizon-chart-single"]],inputs:{width:"width",height:"height",bands:"bands",mode:"mode",colors:"colors",interpolation:"interpolation",data:"data"},decls:1,vars:0,template:function(e,t){e&1&&(ft(),Y(0,"svg"))},styles:["#horizon-bands[_ngcontent-%COMP%]{float:right}"]})}}return n})();var Rn=["container"];function On(n,a){if(n&1&&(A(0,"mat-option",7),C(1),x()),n&2){let r=a.$implicit;j("value",r.value),W(),wt(" ",r.viewValue," ")}}var Cn=(()=>{class n{constructor(){this.container=mt.required("container"),this.data=le,this.width=900,this.height=40,this.mode="mirror",this.interpolations=[{value:qt,viewValue:"d3.curveLinear"},{value:Tt,viewValue:"d3.curveStep"},{value:Nt,viewValue:"d3.curveStepBefore"},{value:Rt,viewValue:"d3.curveStepAfter"},{value:Ft,viewValue:"d3.curveBasis"},{value:ut,viewValue:"d3.curveCatmullRom"},{value:Lt,viewValue:"d3.curveCardinal"},{value:Bt,viewValue:"d3.curveNatural"},{value:Ht,viewValue:"d3.curveMonotoneX"},{value:Wt,viewValue:"d3.curveMonotoneY"}],this.interpolation=this.interpolations[0].value,this.colors=[["#08519c","#bdd7e7","#bae4b3","#006d2c"],["#4575b4","#e0f3f8","#fee090","#d73027"],["#e06c4c","#f5d2ca","#c0e2f0","#1da4d1"],["#313695","#abd9e9","#fee090","#d73027"],["#5e4fa2","#e6f598","#fee08b","#9e0142"],["#551b01","#f89d97","#c8ffd4","#014e1f"]],this.color=this.colors[0]}colorChanged(r){this.color=this.colors[+r.value]}ngOnInit(){let r=this.container().nativeElement.getBoundingClientRect().width,e={right:12,left:12};this.width=r-e.left-e.right}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=tt({type:n,selectors:[["app-d3-sample-d3tc-horizon-chart-bands"]],viewQuery:function(e,t){e&1&&St(t.container,Rn,5),e&2&&bt()},decls:82,vars:52,consts:[["container",""],[1,"container"],[1,"ml12px"],["placeholder","mode",3,"ngModelChange","ngModel"],["value","mirror","selected",""],["value","offset"],["placeholder","interpolation",3,"ngModelChange","ngModel"],[3,"value"],["matInput","","type","number","min","10","max","120","step","10","placeholder","height",3,"ngModelChange","ngModel"],[3,"change"],[1,"label","ml12px"],["value","0","checked","",1,"ml12px"],[2,"background","#08519c"],[2,"background","#bdd7e7"],[2,"background","#bae4b3"],[2,"background","#006d2c"],["value","1",1,"ml12px"],[2,"background","#4575b4"],[2,"background","#e0f3f8"],[2,"background","#fee090"],[2,"background","#d73027"],["value","2",1,"ml12px"],[2,"background","#e06c4c"],[2,"background","#f5d2ca"],[2,"background","#c0e2f0"],[2,"background","#1da4d1"],["value","3",1,"ml12px"],[2,"background","#313695"],[2,"background","#abd9e9"],["value","4",1,"ml12px"],[2,"background","#5e4fa2"],[2,"background","#e6f598"],[2,"background","#fee08b"],[2,"background","#9e0142"],["value","5",1,"ml12px"],[2,"background","#551b01"],[2,"background","#f89d97"],[2,"background","#c8ffd4"],[2,"background","#014e1f"],[1,"ml12px",3,"data","width","height","mode","bands","interpolation","colors"]],template:function(e,t){if(e&1){let i=At();A(0,"div",1,0),C(2,` A sequence of horizon charts with bands decreasing from 7 to 1.
`),x(),A(3,"mat-form-field",2)(4,"mat-select",3),rt("ngModelChange",function(c){return U(i),nt(t.mode,c)||(t.mode=c),G(c)}),A(5,"mat-option",4),C(6,"mirror"),x(),A(7,"mat-option",5),C(8,"offset"),x()()(),A(9,"mat-form-field",2)(10,"mat-select",6),rt("ngModelChange",function(c){return U(i),nt(t.interpolation,c)||(t.interpolation=c),G(c)}),vt(11,On,2,2,"mat-option",7,gt),x()(),A(13,"mat-form-field",2)(14,"input",8),rt("ngModelChange",function(c){return U(i),nt(t.height,c)||(t.height=c),G(c)}),x()(),Y(15,"br"),A(16,"mat-radio-group",9),at("change",function(c){return U(i),G(t.colorChanged(c))}),A(17,"label",10),C(18,"colors:"),x(),A(19,"mat-radio-button",11)(20,"span",12),C(21,"\xA0\xA0\xA0\xA0"),x(),A(22,"span",13),C(23,"\xA0\xA0\xA0\xA0"),x(),A(24,"span",14),C(25,"\xA0\xA0\xA0\xA0"),x(),A(26,"span",15),C(27,"\xA0\xA0\xA0\xA0"),x()(),A(28,"mat-radio-button",16)(29,"span",17),C(30,"\xA0\xA0\xA0\xA0"),x(),A(31,"span",18),C(32,"\xA0\xA0\xA0\xA0"),x(),A(33,"span",19),C(34,"\xA0\xA0\xA0\xA0"),x(),A(35,"span",20),C(36,"\xA0\xA0\xA0\xA0"),x()(),A(37,"mat-radio-button",21)(38,"span",22),C(39,"\xA0\xA0\xA0\xA0"),x(),A(40,"span",23),C(41,"\xA0\xA0\xA0\xA0"),x(),A(42,"span",24),C(43,"\xA0\xA0\xA0\xA0"),x(),A(44,"span",25),C(45,"\xA0\xA0\xA0\xA0"),x()(),A(46,"mat-radio-button",26)(47,"span",27),C(48,"\xA0\xA0\xA0\xA0"),x(),A(49,"span",28),C(50,"\xA0\xA0\xA0\xA0"),x(),A(51,"span",19),C(52,"\xA0\xA0\xA0\xA0"),x(),A(53,"span",20),C(54,"\xA0\xA0\xA0\xA0"),x()(),A(55,"mat-radio-button",29)(56,"span",30),C(57,"\xA0\xA0\xA0\xA0"),x(),A(58,"span",31),C(59,"\xA0\xA0\xA0\xA0"),x(),A(60,"span",32),C(61,"\xA0\xA0\xA0\xA0"),x(),A(62,"span",33),C(63,"\xA0\xA0\xA0\xA0"),x()(),A(64,"mat-radio-button",34)(65,"span",35),C(66,"\xA0\xA0\xA0\xA0"),x(),A(67,"span",36),C(68,"\xA0\xA0\xA0\xA0"),x(),A(69,"span",37),C(70,"\xA0\xA0\xA0\xA0"),x(),A(71,"span",38),C(72,"\xA0\xA0\xA0\xA0"),x()()(),Y(73,"br")(74,"br")(75,"app-d3-sample-d3tc-horizon-chart-single",39)(76,"app-d3-sample-d3tc-horizon-chart-single",39)(77,"app-d3-sample-d3tc-horizon-chart-single",39)(78,"app-d3-sample-d3tc-horizon-chart-single",39)(79,"app-d3-sample-d3tc-horizon-chart-single",39)(80,"app-d3-sample-d3tc-horizon-chart-single",39)(81,"app-d3-sample-d3tc-horizon-chart-single",39)}e&2&&(W(4),et("ngModel",t.mode),W(6),et("ngModel",t.interpolation),W(),yt(t.interpolations),W(3),et("ngModel",t.height),W(61),j("data",t.data)("width",t.width)("height",t.height)("mode",t.mode)("bands",7)("interpolation",t.interpolation)("colors",t.color),W(),j("data",t.data)("width",t.width)("height",t.height)("mode",t.mode)("bands",6)("interpolation",t.interpolation)("colors",t.color),W(),j("data",t.data)("width",t.width)("height",t.height)("mode",t.mode)("bands",5)("interpolation",t.interpolation)("colors",t.color),W(),j("data",t.data)("width",t.width)("height",t.height)("mode",t.mode)("bands",4)("interpolation",t.interpolation)("colors",t.color),W(),j("data",t.data)("width",t.width)("height",t.height)("mode",t.mode)("bands",3)("interpolation",t.interpolation)("colors",t.color),W(),j("data",t.data)("width",t.width)("height",t.height)("mode",t.mode)("bands",2)("interpolation",t.interpolation)("colors",t.color),W(),j("data",t.data)("width",t.width)("height",t.height)("mode",t.mode)("bands",1)("interpolation",t.interpolation)("colors",t.color))},dependencies:[Dt,Ut,Pt,xt,Et,Ct,Vt,zt,kt,Mt,_t,Gt,jt,xn],styles:["#horizon-bands[_ngcontent-%COMP%]{float:right}.label[_ngcontent-%COMP%]{vertical-align:middle}.ml12px[_ngcontent-%COMP%]{margin-left:12px}.container[_ngcontent-%COMP%]{padding:12px}"]})}}return n})();var Xr=(()=>{class n{static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=tt({type:n,selectors:[["app-d3-sample-7"]],decls:3,vars:1,consts:[[1,"sample7",3,"svgheight"],[1,"sample7"]],template:function(e,t){e&1&&Y(0,"app-d3-sample-d3tc-horizon-chart-interactive",0)(1,"hr")(2,"app-d3-sample-d3tc-horizon-chart-bands",1),e&2&&j("svgheight",300)},dependencies:[wn,Cn],styles:[".sample7[_ngcontent-%COMP%]{margin:0;padding:0}"]})}}return n})();export{Xr as Sample7Component};
