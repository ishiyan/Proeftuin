import{a as F}from"./chunk-2OWMVXUX.js";import{a as L,b as G}from"./chunk-UUX6NCOO.js";import{d as M}from"./chunk-N4BD6MMC.js";import{a as D,f as N}from"./chunk-TTDD7BST.js";import{g as H}from"./chunk-QQ6YFGSV.js";import{Gb as x,Hb as y,Ib as c,Jb as h,Jc as f,Kb as d,Lb as u,Lc as T,Mc as p,Wb as _,Ya as r,Yb as v,ib as C,kc as b,lc as I,pc as w,qc as W,rc as E}from"./chunk-54YCK6MI.js";var R=(n,l)=>l.id;function k(n,l){if(n&1&&(h(0,"mat-option",3),u(1,"mb-swatches",2),d()),n&2){let S=l.$implicit,e=v();c("value",S),r(),c("width",e.optionWidthPixels)("height",e.optionHeightPixels)("colors",S.palette)}}var O=48,X=24,A=24,m=1;function q(n){return n===1e3?0:1e3}var Z=(()=>{let l=class l{constructor(){this.selected=p(0),this.colors=p.required(),this.label=p("Select colors"),this.selectionChange=T(),this.optionHeightPixels=A,this.triggerHeightPixels=X,this.optionWidthPixels=A*m,this.triggerWidthPixels=X*m,this.selectWidthPixels=O+this.triggerWidthPixels,this.palettes={id:0,palettes:[],[Symbol.iterator]:function(){return this.palettes[Symbol.iterator]()}},this.selectedPalette={id:0,palette:[]},this.selectedIndex=0,f(()=>{let e=this.selected();this.selectedIndex=e;let s=this.palettes.palettes.length;s>0&&(e>=s&&(e=s-1),this.selectedIndex=e,this.selectedPalette=this.palettes.palettes[this.selectedIndex],this.selectionChange.emit(this.selectedPalette.palette))}),f(()=>{let e=this.colors(),s=q(this.palettes.id),t={id:s,palettes:[],[Symbol.iterator]:function(){return this.palettes[Symbol.iterator]()}};e.forEach((i,o)=>{t.palettes.push({id:s+o,palette:i})});let a=t.palettes.length;if(a>0){let i=this.selectedIndex;i>=a&&(i=a-1);let o=0;for(let g=0;g<a;++g){let P=e[g].length;o<P&&(o=P)}o<m&&(o=m),this.optionWidthPixels=o*this.optionHeightPixels,this.triggerWidthPixels=o*this.triggerHeightPixels,this.selectWidthPixels=O+this.triggerWidthPixels,this.palettes=t,this.selectedPalette=t.palettes[i],this.selectedIndex=i,this.selectionChange.emit(this.selectedPalette.palette)}})}selectionChanged(e){this.selectedIndex=this.palettes.palettes.indexOf(e.value),this.selectionChange.emit(e.value.palette)}computeWidthStyle(){return{width:`${this.selectWidthPixels}px`}}};l.\u0275fac=function(s){return new(s||l)},l.\u0275cmp=C({type:l,selectors:[["mb-swatches-select"]],inputs:{selected:[1,"selected"],colors:[1,"colors"],label:[1,"label"]},outputs:{selectionChange:"selectionChange"},decls:8,vars:6,consts:[[3,"ngStyle"],[3,"valueChange","selectionChange","value"],[3,"width","height","colors"],[3,"value"]],template:function(s,t){s&1&&(h(0,"mat-form-field",0)(1,"mat-label"),b(2),d(),h(3,"mat-select",1),E("valueChange",function(i){return W(t.selectedPalette,i)||(t.selectedPalette=i),i}),_("selectionChange",function(i){return t.selectionChanged(i)}),h(4,"mat-select-trigger"),u(5,"mb-swatches",2),d(),x(6,k,2,4,"mat-option",3,R),d()()),s&2&&(c("ngStyle",t.computeWidthStyle()),r(2),I(t.label()),r(),w("value",t.selectedPalette),r(2),c("width",t.triggerWidthPixels)("height",t.triggerHeightPixels)("colors",t.selectedPalette.palette),r(),y(t.palettes.palettes))},dependencies:[N,H,D,L,G,F,M],encapsulation:2,changeDetection:0});let n=l;return n})();export{Z as a};
