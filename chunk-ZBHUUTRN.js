import{a as E}from"./chunk-IEKDCRBV.js";import{Ca as j,G as T,Qa as q,e as k,k as S}from"./chunk-GXN2U6XA.js";import{o as A}from"./chunk-QQ6YFGSV.js";import{Ca as O,Ha as P,Ic as B,Jc as _,Mc as c,Wa as W,Wb as N,Zb as H,_b as R,ca as v,ib as z,na as y}from"./chunk-54YCK6MI.js";q();function I(s,t){let i=1<<s,n=0,r=0;for(let o=1;o<i;o*=2){let d=1&t/2,l=1&(t^d),h=$(o,n,r,d,l);n=h[0]+o*d,r=h[1]+o*l,t/=4}return[n,r]}function $(s,t,i,n,r){return r===0?(n===1&&(t=s-1-t,i=s-1-i),[i,t]):[t,i]}var U=["*"],C=300,Y=5,G=1,ne=(()=>{let t=class t{constructor(){this.document=v(y),this.platformId=v(P),this.elementRef=v(O),this.order=c(Y),this.size=c(C),this.strokeWidth=c(G),this.strokeColorFunc=c(),this.fillColorFunc=c(),this.twoPowerOrder=B(()=>Math.pow(2,this.order())),_(()=>{this.order(),this.size(),this.strokeWidth(),this.strokeColorFunc(),this.fillColorFunc(),this.render()})}render(){if(!A(this.platformId)||!this.document||this.document===null)return;let n=S(this.elementRef.nativeElement);n.select("svg").remove();let o=E(this.elementRef,this.size(),C,C,C)[0],l=n.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("width",o).attr("height",o).attr("viewBox",`0 0 ${o} ${o}`).append("g"),h=this.order(),m=this.twoPowerOrder(),w=o/m,F=w/2,f=m*m,p=T().domain([0,m]).range([0,o]),M=j().x(e=>p(e[0])+F).y(e=>p(e[1])+F),a=k(f).map(e=>I(h,e)),x=this.fillColorFunc();if(x){let e=l.selectAll("rect").data(a);e.exit().remove(),e.enter().append("rect").style("fill",(g,L)=>x(L/f)).attr("x",g=>p(g[0])).attr("y",g=>p(g[1])).attr("width",w).attr("height",w)}let D=this.strokeWidth(),b=this.strokeColorFunc(),u=l.selectAll("path").data(k(f-1));u.exit().remove(),b?u.enter().append("path").merge(u).attr("d",e=>M([a[e],a[e+1]])).attr("stroke",e=>b(e/f)).attr("stroke-width",D):u.enter().append("path").attr("class","seg").merge(u).attr("d",e=>M([a[e],a[e+1]])).attr("stroke-width",D)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=z({type:t,selectors:[["mb-hilbert-curve"]],hostBindings:function(r,o){r&1&&N("resize",function(){return o.render()},W)},inputs:{order:[1,"order"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],strokeColorFunc:[1,"strokeColorFunc"],fillColorFunc:[1,"fillColorFunc"]},ngContentSelectors:U,decls:1,vars:0,template:function(r,o){r&1&&(H(),R(0))},styles:["mb-hilbert-curve[_ngcontent-%COMP%]   .seg[_ngcontent-%COMP%]{stroke:currentColor}"],changeDetection:0});let s=t;return s})();export{ne as a};
